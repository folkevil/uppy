(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Uppy = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

},{}],2:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;n>r;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(0>n)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};
},{}],3:[function(require,module,exports){
function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=cachedSetTimeout(cleanUpNextTick);draining=!0;for(var r=queue.length;r;){for(currentQueue=queue,queue=[];++queueIndex<r;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,r=queue.length}currentQueue=null,draining=!1,cachedClearTimeout(e)}}function Item(e,r){this.fun=e,this.array=r}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout=setTimeout}catch(e){cachedSetTimeout=function(){throw new Error("setTimeout is not defined")}}try{cachedClearTimeout=clearTimeout}catch(e){cachedClearTimeout=function(){throw new Error("clearTimeout is not defined")}}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];queue.push(new Item(e,r)),1!==queue.length||draining||cachedSetTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],4:[function(require,module,exports){
function dragDrop(e,r){function t(t){if(t.stopPropagation(),t.preventDefault(),t.dataTransfer.items){var n=toArray(t.dataTransfer.items).filter(function(e){return"file"===e.kind});if(0===n.length)return}return e.classList.add("drag"),clearTimeout(i),r.onDragOver&&r.onDragOver(t),t.dataTransfer.dropEffect="copy",!1}function n(e){return e.stopPropagation(),e.preventDefault(),r.onDragLeave&&r.onDragLeave(e),clearTimeout(i),i=setTimeout(o,50),!1}function a(e){e.stopPropagation(),e.preventDefault(),r.onDragLeave&&r.onDragLeave(e),clearTimeout(i),o();var t={x:e.clientX,y:e.clientY};if(e.dataTransfer.items){var n=toArray(e.dataTransfer.items).filter(function(e){return"file"===e.kind});if(0===n.length)return;parallel(n.map(function(e){return function(r){processEntry(e.webkitGetAsEntry(),r)}}),function(e,n){if(e)throw e;r.onDrop&&r.onDrop(flatten(n),t)})}else{var a=toArray(e.dataTransfer.files);if(0===a.length)return;a.forEach(function(e){e.fullPath="/"+e.name}),r.onDrop&&r.onDrop(a,t)}return!1}function o(){e.classList.remove("drag")}"string"==typeof e&&(e=window.document.querySelector(e)),"function"==typeof r&&(r={onDrop:r});var i;return e.addEventListener("dragenter",stopEvent,!1),e.addEventListener("dragover",t,!1),e.addEventListener("dragleave",n,!1),e.addEventListener("drop",a,!1),function(){o(),e.removeEventListener("dragenter",stopEvent,!1),e.removeEventListener("dragover",t,!1),e.removeEventListener("dragleave",n,!1),e.removeEventListener("drop",a,!1)}}function stopEvent(e){return e.stopPropagation(),e.preventDefault(),!1}function processEntry(e,r){function t(){o.readEntries(function(e){e.length>0?(a=a.concat(toArray(e)),t()):n()})}function n(){parallel(a.map(function(e){return function(r){processEntry(e,r)}}),r)}var a=[];if(e.isFile)e.file(function(t){t.fullPath=e.fullPath,r(null,t)},function(e){r(e)});else if(e.isDirectory){var o=e.createReader();t()}}function toArray(e){return Array.prototype.slice.call(e||[],0)}module.exports=dragDrop;var flatten=require("flatten"),parallel=require("run-parallel");
},{"flatten":5,"run-parallel":6}],5:[function(require,module,exports){
module.exports=function(r,n){function t(r,u){return r.reduce(function(r,e){return Array.isArray(e)&&n>u?r.concat(t(e,u+1)):r.concat(e)},[])}return n="number"==typeof n?n:1/0,n?t(r,1):Array.isArray(r)?r.map(function(r){return r}):r};
},{}],6:[function(require,module,exports){
(function (process){
module.exports=function(n,c){function o(n){function o(){c&&c(n,u),c=null}r?process.nextTick(o):o()}function t(n,c,t){u[n]=t,(0===--f||c)&&o(c)}var u,f,i,r=!0;Array.isArray(n)?(u=[],f=n.length):(i=Object.keys(n),u={},f=i.length),f?i?i.forEach(function(c){n[c](function(n,o){t(c,n,o)})}):n.forEach(function(n,c){n(function(n,o){t(c,n,o)})}):o(null),r=!1};
}).call(this,require('_process'))

},{"_process":3}],7:[function(require,module,exports){
(function (process,global){
(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){G=t}function r(t){Q=t}function o(){return function(){process.nextTick(a)}}function i(){return function(){B(a)}}function s(){var t=0,e=new X(a),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}function c(){return function(){setTimeout(a,1)}}function a(){for(var t=0;J>t;t+=2){var e=tt[t],n=tt[t+1];e(n),tt[t]=void 0,tt[t+1]=void 0}J=0}function f(){try{var t=require,e=t("vertx");return B=e.runOnLoop||e.runOnContext,i()}catch(n){return c()}}function l(t,e){var n=this,r=new this.constructor(p);void 0===r[rt]&&k(r);var o=n._state;if(o){var i=arguments[o-1];Q(function(){x(o,r,i,n._result)})}else E(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(p);return g(n,t),n}function p(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return ut.error=e,ut}}function y(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function m(t,e,n){Q(function(t){var r=!1,o=y(n,e,function(n){r||(r=!0,e!==n?g(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function b(t,e){e._state===it?S(t,e._result):e._state===st?j(t,e._result):E(e,void 0,function(e){g(t,e)},function(e){j(t,e)})}function w(t,n,r){n.constructor===t.constructor&&r===et&&constructor.resolve===nt?b(t,n):r===ut?j(t,ut.error):void 0===r?S(t,n):e(r)?m(t,n,r):S(t,n)}function g(e,n){e===n?j(e,_()):t(n)?w(e,n,v(n)):S(e,n)}function A(t){t._onerror&&t._onerror(t._result),T(t)}function S(t,e){t._state===ot&&(t._result=e,t._state=it,0!==t._subscribers.length&&Q(T,t))}function j(t,e){t._state===ot&&(t._state=st,t._result=e,Q(A,t))}function E(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+it]=n,o[i+st]=r,0===i&&t._state&&Q(T,t)}function T(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?x(n,r,o,i):o(i);t._subscribers.length=0}}function M(){this.error=null}function P(t,e){try{return t(e)}catch(n){return ct.error=n,ct}}function x(t,n,r,o){var i,s,u,c,a=e(r);if(a){if(i=P(r,o),i===ct?(c=!0,s=i.error,i=null):u=!0,n===i)return void j(n,d())}else i=o,u=!0;n._state!==ot||(a&&u?g(n,i):c?j(n,s):t===it?S(n,i):t===st&&j(n,i))}function C(t,e){try{e(function(e){g(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function O(){return at++}function k(t){t[rt]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function Y(t){return new _t(this,t).promise}function q(t){var e=this;return new e(I(t)?function(n,r){for(var o=t.length,i=0;o>i;i++)e.resolve(t[i]).then(n,r)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function F(t){var e=this,n=new e(p);return j(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function K(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(t){this[rt]=O(),this._result=this._state=void 0,this._subscribers=[],p!==t&&("function"!=typeof t&&D(),this instanceof L?C(this,t):K())}function N(t,e){this._instanceConstructor=t,this.promise=new t(p),this.promise[rt]||k(this.promise),I(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):j(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function W(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(t.Promise=pt)}var z;z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var B,G,H,I=z,J=0,Q=function(t,e){tt[J]=t,tt[J+1]=e,J+=2,2===J&&(G?G(a):H())},R="undefined"!=typeof window?window:void 0,V=R||{},X=V.MutationObserver||V.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,tt=new Array(1e3);H=Z?o():X?s():$?u():void 0===R&&"function"==typeof require?f():c();var et=l,nt=h,rt=Math.random().toString(36).substring(16),ot=void 0,it=1,st=2,ut=new M,ct=new M,at=0,ft=Y,lt=q,ht=F,pt=L;L.all=ft,L.race=lt,L.resolve=nt,L.reject=ht,L._setScheduler=n,L._setAsap=r,L._asap=Q,L.prototype={constructor:L,then:et,"catch":function(t){return this.then(null,t)}};var _t=N;N.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&t>n;n++)this._eachEntry(e[n],n)},N.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===nt){var o=v(t);if(o===et&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===pt){var i=new n(p);w(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(r(t),e)},N.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ot&&(this._remaining--,t===st?j(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},N.prototype._willSettleAt=function(t,e){var n=this;E(t,void 0,function(t){n._settledAt(it,e,t)},function(t){n._settledAt(st,e,t)})};var dt=W,vt={Promise:pt,polyfill:dt};"function"==typeof define&&define.amd?define(function(){return vt}):"undefined"!=typeof module&&module.exports?module.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),dt()}).call(this);
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":3}],8:[function(require,module,exports){
"use strict";var numberIsNan=require("number-is-nan");module.exports=function(e){if("number"!=typeof e||numberIsNan(e))throw new TypeError("Expected a number, got "+typeof e);var r,t,n=0>e,o=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];return n&&(e=-e),1>e?(n?"-":"")+e+" B":(r=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),o.length-1),e=Number((e/Math.pow(1e3,r)).toFixed(2)),t=o[r],(n?"-":"")+e+" "+t)};
},{"number-is-nan":9}],9:[function(require,module,exports){
"use strict";module.exports=Number.isNaN||function(e){return e!==e};
},{}],10:[function(require,module,exports){
"use strict";function fingerprint(e){return["tus",e.name,e.type,e.size,e.lastModified].join("-")}module.exports=fingerprint;
},{}],11:[function(require,module,exports){
"use strict";var _interopRequire=function(o){return o&&o.__esModule?o["default"]:o},Upload=_interopRequire(require("./upload")),defaultOptions=Upload.defaultOptions,XMLHttpRequest=window.XMLHttpRequest,localStorage=window.localStorage,Blob=window.Blob,isSupported=XMLHttpRequest&&localStorage&&Blob&&"function"==typeof Blob.prototype.slice;module.exports={Upload:Upload,isSupported:isSupported,defaultOptions:defaultOptions};
},{"./upload":12}],12:[function(require,module,exports){
"use strict";function encodeMetadata(e){if(!("btoa"in window))return"";var t=[];for(var o in e)t.push(o+" "+btoa(unescape(encodeURIComponent(e[o]))));return t.join(",")}var _interopRequire=function(e){return e&&e.__esModule?e["default"]:e},_createClass=function(){function e(e,t){for(var o in t){var r=t[o];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},fingerprint=_interopRequire(require("./fingerprint")),extend=_interopRequire(require("extend")),localStorage=window.localStorage,btoa=window.btoa,defaultOptions={endpoint:"",fingerprint:fingerprint,resume:!0,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,headers:{},chunkSize:1/0,withCredentials:!1},Upload=function(){function e(t,o){_classCallCheck(this,e),this.options=extend(!0,{},defaultOptions,o),this.file=t,this.url=null,this._xhr=null,this._fingerprint=null,this._offset=null,this._aborted=!1}return _createClass(e,{start:{value:function(){var e=this.file;if(!e)return void this._emitError(new Error("tus: no file to upload provided"));if(!this.options.endpoint)return void this._emitError(new Error("tus: no endpoint provided"));if(null!==this.url)return void this._resumeUpload();if(this.options.resume){this._fingerprint=this.options.fingerprint(e);var t=localStorage.getItem(this._fingerprint);if(null!=t)return this.url=t,void this._resumeUpload()}this._createUpload()}},abort:{value:function(){null!==this._xhr&&(this._xhr.abort(),this._aborted=!0)}},_emitXhrError:{value:function(e,t){t.originalRequest=e,this._emitError(t)}},_emitError:{value:function(e){if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}},_emitSuccess:{value:function(){"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},_emitProgress:{value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},_emitChunkComplete:{value:function(e,t,o){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,o)}},_setupXHR:{value:function(e){e.setRequestHeader("Tus-Resumable","1.0.0");var t=this.options.headers;for(var o in t)e.setRequestHeader(o,t[o]);e.withCredentials=this.options.withCredentials}},_createUpload:{value:function(){var e=this,t=new XMLHttpRequest;t.open("POST",this.options.endpoint,!0),t.onload=function(){return t.status>=200&&t.status<300?(e.url=t.getResponseHeader("Location"),e.options.resume&&localStorage.setItem(e._fingerprint,e.url),e._offset=0,void e._startUpload()):void e._emitXhrError(t,new Error("tus: unexpected response while creating upload"))},t.onerror=function(){e._emitXhrError(t,new Error("tus: failed to create upload"))},this._setupXHR(t),t.setRequestHeader("Upload-Length",this.file.size);var o=encodeMetadata(this.options.metadata);""!==o&&t.setRequestHeader("Upload-Metadata",o),t.send(null)}},_resumeUpload:{value:function(){var e=this,t=new XMLHttpRequest;t.open("HEAD",this.url,!0),t.onload=function(){if(!(t.status>=200&&t.status<300))return e.options.resume&&localStorage.removeItem(e._fingerprint),e.url=null,void e._createUpload();var o=parseInt(t.getResponseHeader("Upload-Offset"),10);return isNaN(o)?void e._emitXhrError(t,new Error("tus: invalid or missing offset value")):(e._offset=o,void e._startUpload())},t.onerror=function(){e._emitXhrError(t,new Error("tus: failed to resume upload"))},this._setupXHR(t),t.send(null)}},_startUpload:{value:function(){var e=this,t=this._xhr=new XMLHttpRequest;t.open("PATCH",this.url,!0),t.onload=function(){if(!(t.status>=200&&t.status<300))return void e._emitXhrError(t,new Error("tus: unexpected response while creating upload"));var o=parseInt(t.getResponseHeader("Upload-Offset"),10);return isNaN(o)?void e._emitXhrError(t,new Error("tus: invalid or missing offset value")):(e._emitChunkComplete(o-e._offset,o,e.file.size),e._offset=o,o==e.file.size?(e._emitProgress(o,o),void e._emitSuccess()):void e._startUpload())},t.onerror=function(){e._aborted||e._emitXhrError(t,new Error("tus: failed to upload chunk at offset "+e._offset))},"upload"in t&&(t.upload.onprogress=function(t){t.lengthComputable&&e._emitProgress(o+t.loaded,e.file.size)}),this._setupXHR(t),t.setRequestHeader("Upload-Offset",this._offset),t.setRequestHeader("Content-Type","application/offset+octet-stream");var o=this._offset,r=this._offset+this.options.chunkSize;r===1/0&&(r=this.file.size),t.send(this.file.slice(o,r))}}}),e}();Upload.defaultOptions=defaultOptions,module.exports=Upload;
},{"./fingerprint":10,"extend":13}],13:[function(require,module,exports){
"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,isArray=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===toStr.call(t)},isPlainObject=function(t){if(!t||"[object Object]"!==toStr.call(t))return!1;var r=hasOwn.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&hasOwn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!o)return!1;var n;for(n in t);return"undefined"==typeof n||hasOwn.call(t,n)};module.exports=function t(){var r,o,n,e,c,a,i=arguments[0],s=1,u=arguments.length,f=!1;for("boolean"==typeof i?(f=i,i=arguments[1]||{},s=2):("object"!=typeof i&&"function"!=typeof i||null==i)&&(i={});u>s;++s)if(r=arguments[s],null!=r)for(o in r)n=i[o],e=r[o],i!==e&&(f&&e&&(isPlainObject(e)||(c=isArray(e)))?(c?(c=!1,a=n&&isArray(n)?n:[]):a=n&&isPlainObject(n)?n:{},i[o]=t(f,a,e)):"undefined"!=typeof e&&(i[o]=e));return i};
},{}],14:[function(require,module,exports){
!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function s(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function i(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function a(t){var e=new FileReader;return e.readAsArrayBuffer(t),i(e)}function h(t){var e=new FileReader;return e.readAsText(t),i(e)}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob?(this.blob=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(a)},this.text=function(){var t=s(this);if(t)return t;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=s(this);return t?t:Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var r=e.body;if(d.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new n(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function c(t){var e=new n,r=(t.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(t){var r=t.trim().split(":"),o=r.shift().trim(),n=r.join(":").trim();e.append(o,n)}),e}function l(t,e){e||(e={}),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof n?e.headers:new n(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};n.prototype.append=function(t,o){t=e(t),o=r(o);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(o)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(t,o){this.map[e(t)]=[r(o)]},n.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(o){t.call(e,o,r,this)},this)},this)},n.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),o(t)},n.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},n.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),o(t)},y.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this)},u.call(d.prototype),u.call(l.prototype),l.prototype.clone=function(){return new l(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},l.error=function(){var t=new l(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];l.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new l(null,{status:e,headers:{location:t}})},t.Headers=n,t.Request=d,t.Response=l,t.fetch=function(t,e){return new Promise(function(r,o){function n(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var s;s=d.prototype.isPrototypeOf(t)&&!e?t:new d(t,e);var i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:c(i),url:n()},e="response"in i?i.response:i.responseText;r(new l(e,t))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(s.method,s.url,!0),"include"===s.credentials&&(i.withCredentials=!0),"responseType"in i&&y.blob&&(i.responseType="blob"),s.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);
},{}],15:[function(require,module,exports){
var bel=require("bel"),morphdom=require("morphdom"),defaultEvents=require("./update-events.js");module.exports=bel,module.exports.update=function(e,o,r){function t(e,o){for(var t=r.events||defaultEvents,n=0;n<t.length;n++){var u=t[n];o[u]?e[u]=o[u]:e[u]&&(e[u]=void 0)}("INPUT"===e.nodeName&&"file"!==e.type||"TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&null===o.getAttribute("value")&&(o.value=e.value)}return r||(r={}),r.events!==!1&&(r.onBeforeMorphEl||(r.onBeforeMorphEl=t)),morphdom(e,o,r)};
},{"./update-events.js":23,"bel":16,"morphdom":22}],16:[function(require,module,exports){
function belCreateElement(e,t,a){function n(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var a=e[t];if(Array.isArray(a))n(a);else{if(("number"==typeof a||"boolean"==typeof a||a instanceof Date||a instanceof RegExp)&&(a=a.toString()),"string"==typeof a){if(o.lastChild&&"#text"===o.lastChild.nodeName){o.lastChild.nodeValue+=a;continue}a=document.createTextNode(a)}a&&a.nodeType&&o.appendChild(a)}}}var o;-1!==SVG_TAGS.indexOf(e)&&(t.namespace=SVGNS);var l=!1;if(t.namespace&&(l=t.namespace,delete t.namespace),o=l?document.createElementNS(l,e):document.createElement(e),t.onload||t.onunload){var r=t.onload||function(){},i=t.onunload||function(){};onload(o,function(){r(o)},function(){i(o)},belCreateElement.caller.caller.caller),delete t.onload,delete t.onunload}for(var f in t)if(t.hasOwnProperty(f)){var c=f.toLowerCase(),s=t[f];if("classname"===c&&(c="class",f="class"),"htmlFor"===f&&(f="for"),BOOL_PROPS[c])if("true"===s)s=c;else if("false"===s)continue;"on"===c.slice(0,2)?o[f]=s:l?o.setAttributeNS(null,f,s):o.setAttribute(f,s)}return n(a),o}var document=require("global/document"),hyperx=require("hyperx"),onload=require("on-load"),SVGNS="http://www.w3.org/2000/svg",BOOL_PROPS={autofocus:1,checked:1,defaultchecked:1,disabled:1,formnovalidate:1,indeterminate:1,readonly:1,required:1,selected:1,willvalidate:1},SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];module.exports=hyperx(belCreateElement),module.exports.createElement=belCreateElement;
},{"global/document":17,"hyperx":19,"on-load":21}],17:[function(require,module,exports){
(function (global){
var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=require("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"min-document":1}],18:[function(require,module,exports){
(function (global){
"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],19:[function(require,module,exports){
function quot(T){return T===ATTR_VALUE_SQ||T===ATTR_VALUE_DQ}function has(T,e){return hasOwn.call(T,e)}function selfClosing(T){return closeRE.test(T)}var attrToProp=require("hyperscript-attribute-to-property"),VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4,ATTR_KEY=5,ATTR_KEY_W=6,ATTR_VALUE_W=7,ATTR_VALUE=8,ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10,ATTR_EQ=11,ATTR_BREAK=12;module.exports=function(T,e){function A(T){return"function"==typeof T?T:"string"==typeof T?T:T&&"object"==typeof T?T:t("",T)}T=attrToProp(T),e||(e={});var t=e.concat||function(T,e){return String(T)+String(e)};return function(e){function n(T){var e=[];r===ATTR_VALUE_W&&(r=ATTR);for(var A=0;A<T.length;A++){var t=T.charAt(A);r===TEXT&&"<"===t?(R.length&&e.push([TEXT,R]),R="",r=OPEN):">"!==t||quot(r)?r===TEXT?R+=t:r===OPEN&&/\s/.test(t)?(e.push([OPEN,R]),R="",r=ATTR):r===OPEN?R+=t:r===ATTR&&/[\w-]/.test(t)?(r=ATTR_KEY,R=t):r===ATTR&&/\s/.test(t)?(R.length&&e.push([ATTR_KEY,R]),e.push([ATTR_BREAK])):r===ATTR_KEY&&/\s/.test(t)?(e.push([ATTR_KEY,R]),R="",r=ATTR_KEY_W):r===ATTR_KEY&&"="===t?(e.push([ATTR_KEY,R],[ATTR_EQ]),R="",r=ATTR_VALUE_W):r===ATTR_KEY?R+=t:r!==ATTR_KEY_W&&r!==ATTR||"="!==t?r!==ATTR_KEY_W&&r!==ATTR||/\s/.test(t)?r===ATTR_VALUE_W&&'"'===t?r=ATTR_VALUE_DQ:r===ATTR_VALUE_W&&"'"===t?r=ATTR_VALUE_SQ:r===ATTR_VALUE_DQ&&'"'===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r===ATTR_VALUE_SQ&&"'"===t?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE_W||/\s/.test(t)?r===ATTR_VALUE&&/\s/.test(t)?(e.push([ATTR_VALUE,R],[ATTR_BREAK]),R="",r=ATTR):r!==ATTR_VALUE&&r!==ATTR_VALUE_SQ&&r!==ATTR_VALUE_DQ||(R+=t):(r=ATTR_VALUE,A--):(e.push([ATTR_BREAK]),/[\w-]/.test(t)?(R+=t,r=ATTR_KEY):r=ATTR):(e.push([ATTR_EQ]),r=ATTR_VALUE_W):(r===OPEN?e.push([OPEN,R]):r===ATTR_KEY?e.push([ATTR_KEY,R]):r===ATTR_VALUE&&R.length&&e.push([ATTR_VALUE,R]),e.push([CLOSE]),R="",r=TEXT)}return r===TEXT&&R.length?(e.push([TEXT,R]),R=""):r===ATTR_VALUE&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_DQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_VALUE_SQ&&R.length?(e.push([ATTR_VALUE,R]),R=""):r===ATTR_KEY&&(e.push([ATTR_KEY,R]),R=""),e}for(var r=TEXT,R="",E=arguments.length,_=[],s=0;s<e.length;s++)if(E-1>s){var o=arguments[s+1],l=n(e[s]),f=r;f===ATTR_VALUE_DQ&&(f=ATTR_VALUE),f===ATTR_VALUE_SQ&&(f=ATTR_VALUE),f===ATTR_VALUE_W&&(f=ATTR_VALUE),f===ATTR&&(f=ATTR_KEY),l.push([VAR,f,o]),_.push.apply(_,l)}else _.push.apply(_,n(e[s]));for(var h=[null,{},[]],i=[[h,-1]],s=0;s<_.length;s++){var a=i[i.length-1][0],l=_[s],p=l[0];if(p===OPEN&&/^\//.test(l[1])){var u=i[i.length-1][1];i.length>1&&(i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0))}else if(p===OPEN){var g=[l[1],{},[]];a[2].push(g),i.push([g,a[2].length-1])}else if(p===ATTR_KEY||p===VAR&&l[1]===ATTR_KEY){for(var L,V="";s<_.length;s++)if(_[s][0]===ATTR_KEY)V=t(V,_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_KEY)break;if("object"!=typeof _[s][2]||V)V=t(V,_[s][2]);else for(L in _[s][2])_[s][2].hasOwnProperty(L)&&!a[1][L]&&(a[1][L]=_[s][2][L])}_[s][0]===ATTR_EQ&&s++;for(var U=s;s<_.length;s++)if(_[s][0]===ATTR_VALUE||_[s][0]===ATTR_KEY)a[1][V]?a[1][V]=t(a[1][V],_[s][1]):a[1][V]=A(_[s][1]);else{if(_[s][0]!==VAR||_[s][1]!==ATTR_VALUE&&_[s][1]!==ATTR_KEY){!V.length||a[1][V]||s!==U||_[s][0]!==CLOSE&&_[s][0]!==ATTR_BREAK||(a[1][V]=V.toLowerCase());break}a[1][V]?a[1][V]=t(a[1][V],_[s][2]):a[1][V]=A(_[s][2])}}else if(p===ATTR_KEY)a[1][l[1]]=!0;else if(p===VAR&&l[1]===ATTR_KEY)a[1][l[2]]=!0;else if(p===CLOSE){if(selfClosing(a[0])&&i.length){var u=i[i.length-1][1];i.pop(),i[i.length-1][0][2][u]=T(a[0],a[1],a[2].length?a[2]:void 0)}}else if(p===VAR&&l[1]===TEXT)void 0===l[2]||null===l[2]?l[2]="":l[2]||(l[2]=t("",l[2])),Array.isArray(l[2][0])?a[2].push.apply(a[2],l[2]):a[2].push(l[2]);else if(p===TEXT)a[2].push(l[1]);else if(p!==ATTR_EQ&&p!==ATTR_BREAK)throw new Error("unhandled: "+p)}if(h[2].length>1&&/^\s*$/.test(h[2][0])&&h[2].shift(),h[2].length>2||2===h[2].length&&/\S/.test(h[2][1]))throw new Error("multiple root elements must be wrapped in an enclosing tag");return Array.isArray(h[2][0])&&"string"==typeof h[2][0][0]&&Array.isArray(h[2][0][2])&&(h[2][0]=T(h[2][0][0],h[2][0][1],h[2][0][2])),h[2][0]}};var hasOwn=Object.prototype.hasOwnProperty,closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");
},{"hyperscript-attribute-to-property":20}],20:[function(require,module,exports){
function attributeToProperty(r){return function(t,o,e){for(var n in o)n in transform&&(o[transform[n]]=o[n],delete o[n]);return r(t,o,e)}}module.exports=attributeToProperty;var transform={"class":"className","for":"htmlFor","http-equiv":"httpEquiv"};
},{}],21:[function(require,module,exports){
function turnon(t,e){watch[t][0]&&0===watch[t][2]&&(watch[t][0](e),watch[t][2]=1)}function turnoff(t,e){watch[t][1]&&1===watch[t][2]&&(watch[t][1](e),watch[t][2]=0)}function eachAttr(t,e,a){var r=t.target.getAttribute(KEY_ATTR);return sameOrigin(t.oldValue,r)?void(watch[r]=watch[t.oldValue]):(watch[t.oldValue]&&a(t.oldValue,t.target),void(watch[r]&&e(r,t.target)))}function sameOrigin(t,e){return t&&e?watch[t][3]===watch[e][3]:!1}function eachMutation(t,e){for(var a=Object.keys(watch),r=0;r<t.length;r++){if(t[r]&&t[r].getAttribute&&t[r].getAttribute(KEY_ATTR)){var n=t[r].getAttribute(KEY_ATTR);a.forEach(function(a){n===a&&e(a,t[r])})}t[r].childNodes.length>0&&eachMutation(t[r].childNodes,e)}}var document=require("global/document"),window=require("global/window"),watch=Object.create(null),KEY_ID="onloadid"+(new Date%9e6).toString(36),KEY_ATTR="data-"+KEY_ID,INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(t){if(!(Object.keys(watch).length<1))for(var e=0;e<t.length;e++)t[e].attributeName!==KEY_ATTR?(eachMutation(t[e].removedNodes,turnoff),eachMutation(t[e].addedNodes,turnon)):eachAttr(t[e],turnon,turnoff)});observer.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeOldValue:!0,attributeFilter:[KEY_ATTR]})}module.exports=function t(e,a,r,n){return a=a||function(){},r=r||function(){},e.setAttribute(KEY_ATTR,"o"+INDEX),watch["o"+INDEX]=[a,r,0,n||t.caller],INDEX+=1,e};
},{"global/document":17,"global/window":18}],22:[function(require,module,exports){
function empty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function toElement(e){!range&&document.createRange&&(range=document.createRange(),range.selectNode(document.body));var t;return range&&range.createContextualFragment?t=range.createContextualFragment(e):(t=document.createElement("body"),t.innerHTML=e),t.childNodes[0]}function noop(){}function createElementNS(e,t){return t&&t!==XHTML?document.createElementNS(t,e):document.createElement(e)}function morphAttrs(e,t){var n,r,o,a,i,d,l=t.attributes;for(n=l.length-1;n>=0;n--)r=l[n],o=r.name,i=r.value,a=r.namespaceURI,a?(o=r.localName||o,d=e.getAttributeNS(a,o)):d=e.getAttribute(o),d!==i&&(a?e.setAttributeNS(a,o,i):e.setAttribute(o,i));for(l=e.attributes,n=l.length-1;n>=0;n--)r=l[n],r.specified!==!1&&(o=r.name,a=r.namespaceURI,hasAttributeNS(t,a,a?o=r.localName||o:o)||(a?e.removeAttributeNS(a,r.localName):e.removeAttribute(o)))}function moveChildren(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}function defaultGetNodeKey(e){return e.id}function morphdom(e,t,n){function r(e,t){var n=c(e);if(n?l[n]=e:t||p(e),e.nodeType===ELEMENT_NODE)for(var o=e.firstChild;o;)r(o,t||n),o=o.nextSibling}function o(e){if(e.nodeType===ELEMENT_NODE)for(var t=e.firstChild;t;)c(t)||(p(t),o(t)),t=t.nextSibling}function a(e,t,n){E(e)!==!1&&(t.removeChild(e),n?c(e)||(p(e),o(e)):r(e))}function i(e,t,n,r){var o=c(t);if(o&&delete l[o],!r){if(m(e,t)===!1)return;if(morphAttrs(e,t),s(e),h(e,t)===!1)return}if("TEXTAREA"!==e.nodeName){var d,E,v,T,A,g=t.firstChild,C=e.firstChild;e:for(;g;){for(v=g.nextSibling,d=c(g);C;){var y=c(C);if(E=C.nextSibling,!n&&y&&(A=u[y]))A.parentNode.replaceChild(C,A),i(C,A,n),C=E;else{var O=C.nodeType;if(O===g.nodeType){var M=!1;if(O===ELEMENT_NODE?(compareNodeNames(C,g)&&(y||d?d===y&&(M=!0):M=!0),M&&i(C,g,n)):O!==TEXT_NODE&&O!=COMMENT_NODE||(M=!0,C.nodeValue=g.nodeValue),M){g=v,C=E;continue e}}a(C,e,n),C=E}}d&&((T=l[d])?compareNodeNames(T,g)?(i(T,g,!0),g=T):(delete l[d],p(T)):u[d]=g),f(g)!==!1&&(e.appendChild(g),N(g)),g.nodeType===ELEMENT_NODE&&(d||g.firstChild)&&b.push(g),g=v,C=E}for(;C;)E=C.nextSibling,a(C,e,n),C=E}var S=specialElHandlers[e.nodeName];S&&S(e,t)}if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var d=t;t=document.createElement("html"),t.innerHTML=d}else t=toElement(t);var l={},u={},c=n.getNodeKey||defaultGetNodeKey,f=n.onBeforeNodeAdded||noop,N=n.onNodeAdded||noop,m=n.onBeforeElUpdated||n.onBeforeMorphEl||noop,s=n.onElUpdated||noop,E=n.onBeforeNodeDiscarded||noop,p=n.onNodeDiscarded||noop,h=n.onBeforeElChildrenUpdated||n.onBeforeMorphElChildren||noop,v=n.childrenOnly===!0,b=[],T=e,A=T.nodeType,g=t.nodeType;if(!v)if(A===ELEMENT_NODE)g===ELEMENT_NODE?compareNodeNames(e,t)||(p(e),T=moveChildren(e,createElementNS(t.nodeName,t.namespaceURI))):T=t;else if(A===TEXT_NODE||A===COMMENT_NODE){if(g===A)return T.nodeValue=t.nodeValue,T;T=t}if(T===t)p(e);else{i(T,t,!1,v);var C=function(e){for(var t=e.firstChild;t;){var n=t.nextSibling,r=c(t);if(r){var o=l[r];if(o&&compareNodeNames(t,o)){if(t.parentNode.replaceChild(o,t),i(o,t,!0),t=n,empty(l))return!1;continue}}t.nodeType===ELEMENT_NODE&&C(t),t=n}};if(!empty(l))e:for(;b.length;){var y=b;b=[];for(var O=0;O<y.length;O++)if(C(y[O])===!1)break e}for(var M in l)if(l.hasOwnProperty(M)){var S=l[M];p(S),o(S)}}return!v&&T!==e&&e.parentNode&&e.parentNode.replaceChild(T,e),T}var range,testEl="undefined"!=typeof document?document.body||document.createElement("div"):{},XHTML="http://www.w3.org/1999/xhtml",ELEMENT_NODE=1,TEXT_NODE=3,COMMENT_NODE=8,hasAttributeNS;hasAttributeNS=testEl.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:testEl.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var specialElHandlers={OPTION:function(e,t){e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected","")},INPUT:function(e,t){e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),hasAttributeNS(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}},compareNodeNames=function(e,t){return e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI};module.exports=morphdom;
},{}],23:[function(require,module,exports){
module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"];
},{}],24:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _taggedTemplateLiteralLoose(t,e){return t.raw=e,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},_templateObject=_taggedTemplateLiteralLoose(['<img alt="','" src="','">'],['<img alt="','" src="','">']),_Utils=require("../core/Utils"),_Utils2=_interopRequireDefault(_Utils),_Translator=require("../core/Translator"),_Translator2=_interopRequireDefault(_Translator),_prettyBytes=require("pretty-bytes"),_prettyBytes2=_interopRequireDefault(_prettyBytes),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),_events=require("events"),_events2=_interopRequireDefault(_events),_UppySocket=require("./UppySocket"),_UppySocket2=_interopRequireDefault(_UppySocket),Core=function(){function t(e){_classCallCheck(this,t);var i={locales:require("../locales/en_US.js"),autoProceed:!0,debug:!1};this.opts=_extends({},i,e),this.types=["presetter","orchestrator","progressindicator","acquirer","uploader","presenter"],this.type="core",this.plugins={},this.translator=new _Translator2["default"]({locales:this.opts.locales}),this.i18n=this.translator.translate.bind(this.translator),this.initSocket=this.initSocket.bind(this),this.emitter=new _events2["default"].EventEmitter,this.state={files:{}},this.opts.debug&&(global.UppyState=this.state,global.uppyLog="",global.UppyAddFile=this.addFile.bind(this))}return t.prototype.updateAll=function(){var t=this;Object.keys(this.plugins).forEach(function(e){t.plugins[e].forEach(function(t){t.update()})})},t.prototype.setState=function(t){this.log("Setting state to: "),this.log(t),this.state=_extends({},this.state,t),this.updateAll()},t.prototype.getState=function(){return this.state},t.prototype.addMeta=function(t,e){if("undefined"==typeof e){var i=_extends({},this.state.files);for(var s in i)i[s].meta=t;this.setState({files:i})}},t.prototype.addFile=function(t){var e=this,i=_extends({},this.state.files),s=t.type.split("/"),r=s[0],o=s[1],n=_Utils2["default"].generateFileID(t.name);i[n]={source:t.source||"",id:n,name:t.name,type:{general:r,specific:o},data:t.data,progress:0,totalSize:t.data.size?(0,_prettyBytes2["default"])(t.data.size):"?",uploadedSize:0,isRemote:t.isRemote||!1,remote:t.remote},this.setState({files:i}),"image"===r&&_Utils2["default"].readImage(i[n].data,function(i){var s=200,r=_Utils2["default"].getProportionalImageHeight(i,s),o=_Utils2["default"].resizeImage(i,s,r),a=_extends({},e.state.files);a[n].previewEl=(0,_yoYo2["default"])(_templateObject,t.name,o),e.setState({files:a})}),this.opts.autoProceed&&this.emitter.emit("next")},t.prototype.actions=function(){var t=this;this.emitter.on("file-add",function(e){t.addFile(e)}),this.emitter.on("file-remove",function(e){var i=_extends({},t.state.files);delete i[e],t.setState({files:i})}),this.emitter.on("upload-progress",function(e){var i=(e.bytesUploaded/e.bytesTotal*100).toFixed(2);i=Math.round(i);var s=_extends({},t.state.files);s[e.id].progress=i,s[e.id].uploadedSize=e.bytesUploaded?(0,_prettyBytes2["default"])(e.bytesUploaded):"?";var r=Object.keys(s).map(function(t){return 0!==t.progress}),o=100*Object.keys(r).length,n=0;Object.keys(s).forEach(function(t){n+=s[t].progress});var a=100*n/o;t.setState({totalProgress:a,files:s})}),this.emitter.on("upload-success",function(e){var i=_extends({},t.state.files);i[e.id]=e,t.setState({files:i})})},t.prototype.use=function(t,e){var i=new t(this,e),s=i.id;if(this.plugins[i.type]=this.plugins[i.type]||[],!s)throw new Error("Your plugin must have a name");if(!i.type)throw new Error("Your plugin must have a type");var r=this.getPlugin(s);if(r){var o="Already found a plugin named '"+r.name+"'.\n        Tried to use: '"+s+"'.\n        Uppy is currently limited to running one of every plugin.\n        Share your use case with us over at\n        https://github.com/transloadit/uppy/issues/\n        if you want us to reconsider.";throw new Error(o)}return this.plugins[i.type].push(i),this},t.prototype.getPlugin=function(t){var e=!1;return this.iteratePlugins(function(i){var s=i.id;return s===t?(e=i,!1):void 0}),e},t.prototype.iteratePlugins=function(t){var e=this;Object.keys(this.plugins).forEach(function(i){e.plugins[i].forEach(t)})},t.prototype.log=function(t){this.opts.debug&&(t===""+t?console.log("LOG: "+t):(console.log("LOG↓"),console.dir(t)),global.uppyLog=global.uppyLog+"\nDEBUG LOG: "+t)},t.prototype.runType=function(t,e,i){var s=this.plugins[t].map(function(t){return t[e](_Utils2["default"].flatten(i))});return Promise.all(s)["catch"](function(t){return console.error(t)})},t.prototype.run=function(){var t=this;this.log("Core is run, initializing actions, installing plugins..."),this.actions(),this.plugins.acquirer&&this.plugins.acquirer.length>1&&(this.opts.autoProceed=!1),Object.keys(this.plugins).forEach(function(e){t.plugins[e].forEach(function(t){t.install()})})},t.prototype.initSocket=function(t){return this.socket||(this.socket=new _UppySocket2["default"](t)),this.socket},t}();exports["default"]=Core;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../core/Translator":25,"../core/Utils":27,"../locales/en_US.js":30,"./UppySocket":26,"events":2,"pretty-bytes":8,"yo-yo":15}],25:[function(require,module,exports){
"use strict";function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Translator=function(){function t(r){_classCallCheck(this,t);var e={};this.opts=_extends({},e,r)}return t.prototype.interpolate=function(t,r){var e=String.prototype.replace,n=/\$/g,a="$$$$";for(var s in r)if("_"!==s&&r.hasOwnProperty(s)){var o=r[s];"string"==typeof o&&(o=e.call(r[s],n,a)),t=e.call(t,new RegExp("%\\{"+s+"\\}","g"),o)}return t},t.prototype.translate=function(t,r){if(r&&r.smart_count){var e=this.opts.locales.pluralize(r.smart_count);return this.interpolate(this.opts.locales.strings[t][e],r)}return this.interpolate(this.opts.locales.strings[t],r)},t}();exports["default"]=Translator;
},{}],26:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _events=require("events"),_events2=_interopRequireDefault(_events),UppySocket=function(){function e(t){var s=this;_classCallCheck(this,e),this.queued=[],this.isOpen=!1,this.socket=new WebSocket(t.target),this.emitter=new _events2["default"].EventEmitter,this.socket.onopen=function(e){for(s.isOpen=!0;s.queued.length>0&&s.isOpen;){var t=s.queued[0];s.send(t.action,t.payload),s.queued=s.queued.slice(1)}},this.socket.onclose=function(e){s.isOpen=!1},this._handleMessage=this._handleMessage.bind(this),this.socket.onmessage=this._handleMessage,this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this)}return e.prototype.send=function(e,t){return this.isOpen?void this.socket.send(JSON.stringify({action:e,payload:t})):void this.queued.push({action:e,payload:t})},e.prototype.on=function(e,t){this.emitter.on(e,t)},e.prototype.emit=function(e,t){this.emitter.emit(e,t)},e.prototype.once=function(e,t){this.emitter.once(e,t)},e.prototype._handleMessage=function(e){try{var t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(s){console.log(s)}},e}();exports["default"]=UppySocket;
},{"events":2}],27:[function(require,module,exports){
"use strict";function promiseWaterfall(e){var t=e[0],r=e.slice(1),n=r.reduce(function(e,t){return e.then(t)},t([]));return n}function flatten(e){return[].concat.apply([],e)}function qsa(e,t){return Array.prototype.slice.call((t||document).querySelectorAll(e)||[])}function groupBy(e,t){return e.reduce(function(e,r){var n=t(r),a=e.get(n)||[];return a.push(r),e.set(n,a),e},new Map)}function every(e,t){return e.reduce(function(e,r){return e?t(r):!1},!0)}function toArray(e){return Array.prototype.slice.call(e||[],0)}function generateFileID(e){var t=e.toLowerCase();return t=t.replace(/[^A-Z0-9]/gi,""),t+=Date.now()}function extend(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return Object.assign.apply(this,[{}].concat(t))}function getFnName(e){var t="function"==typeof e,r=t&&(e.name&&["",e.name]||e.toString().match(/function ([^\(]+)/));return!t&&"not a function"||r&&r[1]||"anonymous"}function readImage(e,t){var r=new FileReader;r.addEventListener("load",function(e){var r=e.target.result,n=new Image;n.onload=function(){return t(n)},n.src=r}),r.addEventListener("error",function(e){console.log("FileReader error"+e)}),r.readAsDataURL(e)}function getProportionalImageHeight(e,t){var r=e.width/e.height,n=Math.round(t/r);return n}function resizeImage(e,t,r){var n=document.createElement("canvas"),a=n.getContext("2d");return n.width=t,n.height=r,a.drawImage(e,0,0,t,r),n.toDataURL()}exports.__esModule=!0,exports["default"]={promiseWaterfall:promiseWaterfall,generateFileID:generateFileID,getFnName:getFnName,toArray:toArray,every:every,flatten:flatten,groupBy:groupBy,qsa:qsa,extend:extend,readImage:readImage,resizeImage:resizeImage,getProportionalImageHeight:getProportionalImageHeight};
},{}],28:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0;var _Core=require("./Core"),_Core2=_interopRequireDefault(_Core);exports["default"]=_Core2["default"];
},{"./Core":24}],29:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}exports.__esModule=!0,exports.locales=exports.plugins=exports.Core=void 0;var _index=require("./core/index"),_index2=_interopRequireDefault(_index),_index3=require("./plugins/index"),_index4=_interopRequireDefault(_index3),locales={};exports.Core=_index2["default"],exports.plugins=_index4["default"],exports.locales=locales;
},{"./core/index":28,"./plugins/index":47}],30:[function(require,module,exports){
"use strict";var en_US={};en_US.strings={chooseFile:"Choose a file",youHaveChosen:"You have chosen: %{fileName}",orDragDrop:"or drag it here",filesChosen:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},filesUploaded:{0:"%{smart_count} file uploaded",1:"%{smart_count} files uploaded"},files:{0:"%{smart_count} file",1:"%{smart_count} files"},uploadFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},selectToUpload:"Select files to upload",closeModal:"Close Modal",upload:"Upload"},en_US.pluralize=function(e){return 1===e?0:1},"undefined"!=typeof window&&"undefined"!=typeof window.Uppy&&(window.Uppy.locales.en_US=en_US),module.exports=en_US;
},{}],31:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _taggedTemplateLiteralLoose(t,e){return t.raw=e,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_templateObject=_taggedTemplateLiteralLoose(['\n      <svg class="UppyIcon UppyModalTab-icon" width="28" height="28" viewBox="0 0 16 16">\n        <path d="M15.982 2.97c0-.02 0-.02-.018-.037 0-.017-.017-.035-.035-.053 0 0 0-.018-.02-.018-.017-.018-.034-.053-.052-.07L13.19.123c-.017-.017-.034-.035-.07-.053h-.018c-.018-.017-.035-.017-.053-.034h-.02c-.017 0-.034-.018-.052-.018h-6.31a.415.415 0 0 0-.446.426V11.11c0 .25.196.446.445.446h8.89A.44.44 0 0 0 16 11.11V3.023c-.018-.018-.018-.035-.018-.053zm-2.65-1.46l1.157 1.157h-1.157V1.51zm1.78 9.157h-8V.89h5.332v2.22c0 .25.196.446.445.446h2.22v7.11z"/>\n        <path d="M9.778 12.89H4V2.666a.44.44 0 0 0-.444-.445.44.44 0 0 0-.445.445v10.666c0 .25.197.445.446.445h6.222a.44.44 0 0 0 .444-.445.44.44 0 0 0-.444-.444z"/>\n        <path d="M.444 16h6.223a.44.44 0 0 0 .444-.444.44.44 0 0 0-.443-.445H.89V4.89a.44.44 0 0 0-.446-.446A.44.44 0 0 0 0 4.89v10.666c0 .248.196.444.444.444z"/>\n      </svg>\n    '],['\n      <svg class="UppyIcon UppyModalTab-icon" width="28" height="28" viewBox="0 0 16 16">\n        <path d="M15.982 2.97c0-.02 0-.02-.018-.037 0-.017-.017-.035-.035-.053 0 0 0-.018-.02-.018-.017-.018-.034-.053-.052-.07L13.19.123c-.017-.017-.034-.035-.07-.053h-.018c-.018-.017-.035-.017-.053-.034h-.02c-.017 0-.034-.018-.052-.018h-6.31a.415.415 0 0 0-.446.426V11.11c0 .25.196.446.445.446h8.89A.44.44 0 0 0 16 11.11V3.023c-.018-.018-.018-.035-.018-.053zm-2.65-1.46l1.157 1.157h-1.157V1.51zm1.78 9.157h-8V.89h5.332v2.22c0 .25.196.446.445.446h2.22v7.11z"/>\n        <path d="M9.778 12.89H4V2.666a.44.44 0 0 0-.444-.445.44.44 0 0 0-.445.445v10.666c0 .25.197.445.446.445h6.222a.44.44 0 0 0 .444-.445.44.44 0 0 0-.444-.444z"/>\n        <path d="M.444 16h6.223a.44.44 0 0 0 .444-.444.44.44 0 0 0-.443-.445H.89V4.89a.44.44 0 0 0-.446-.446A.44.44 0 0 0 0 4.89v10.666c0 .248.196.444.444.444z"/>\n      </svg>\n    ']),_templateObject2=_taggedTemplateLiteralLoose(['\n      <div class="UppyDragDrop-container ','">\n        <form class="UppyDragDrop-inner"\n              onsubmit=','>\n          <input class="UppyDragDrop-input UppyDragDrop-focus"\n                 type="file"\n                 name="files[]"\n                 multiple="true"\n                 value=""\n                 onchange=',' />\n          <label class="UppyDragDrop-label" onclick=',">\n            <strong>",'</strong>\n            <span class="UppyDragDrop-dragText">',"</span>\n          </label>\n          ","\n        </form>\n      </div>\n    "],['\n      <div class="UppyDragDrop-container ','">\n        <form class="UppyDragDrop-inner"\n              onsubmit=','>\n          <input class="UppyDragDrop-input UppyDragDrop-focus"\n                 type="file"\n                 name="files[]"\n                 multiple="true"\n                 value=""\n                 onchange=',' />\n          <label class="UppyDragDrop-label" onclick=',">\n            <strong>",'</strong>\n            <span class="UppyDragDrop-dragText">',"</span>\n          </label>\n          ","\n        </form>\n      </div>\n    "]),_templateObject3=_taggedTemplateLiteralLoose(['<button class="UppyDragDrop-uploadBtn UppyNextBtn"\n                         type="submit"\n                         onclick=',">\n                    ","\n              </button>"],['<button class="UppyDragDrop-uploadBtn UppyNextBtn"\n                         type="submit"\n                         onclick=',">\n                    ","\n              </button>"]),_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_Utils=require("../core/Utils"),_Utils2=_interopRequireDefault(_Utils),_dragDrop=require("drag-drop"),_dragDrop2=_interopRequireDefault(_dragDrop),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),DragDrop=function(t){function e(r,n){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,t.call(this,r,n));o.type="acquirer",o.id="DragDrop",o.title="Drag & Drop",o.icon=(0,_yoYo2["default"])(_templateObject);var a={target:".UppyDragDrop"};return o.opts=_extends({},a,n),o.isDragDropSupported=o.checkDragDropSupport(),o.handleDrop=o.handleDrop.bind(o),o.checkDragDropSupport=o.checkDragDropSupport.bind(o),o.handleInputChange=o.handleInputChange.bind(o),o.render=o.render.bind(o),o}return _inherits(e,t),e.prototype.checkDragDropSupport=function(){var t=document.createElement("div");return"draggable"in t&&"ondragstart"in t&&"ondrop"in t&&"FormData"in window?"FileReader"in window:!1},e.prototype.handleDrop=function(t){var e=this;this.core.log("All right, someone dropped something..."),t.forEach(function(t){e.core.emitter.emit("file-add",{source:e.id,name:t.name,type:t.type,data:t})}),this.core.addMeta({bla:"bla"})},e.prototype.handleInputChange=function(t){var e=this;this.core.log("All right, something selected through input...");var r=_Utils2["default"].toArray(t.target.files);r.forEach(function(t){console.log(t),e.core.emitter.emit("file-add",{source:e.id,name:t.name,type:t.type,data:t})})},e.prototype.focus=function(){var t=document.querySelector(this.target+" .UppyDragDrop-focus");setTimeout(function(){t.focus()},10)},e.prototype.render=function(t){var e=this,r=this.opts.target.name,n=function(t){var r=document.querySelector(e.target+" .UppyDragDrop-input");r.click()},o=function(t){t.preventDefault(),t.stopPropagation(),e.core.emitter.emit("next")},a=function(t){t.preventDefault()};return(0,_yoYo2["default"])(_templateObject2,this.isDragDropSupported?"is-dragdrop-supported":"",a,this.handleInputChange.bind(this),n,this.core.i18n("chooseFile"),this.core.i18n("orDragDrop"),this.core.opts.autoProceed||"Modal"===r?"":(0,_yoYo2["default"])(_templateObject3,o,this.core.i18n("upload")))},e.prototype.install=function(){var t=this,e=this.opts.target,r=this;this.target=this.mount(e,r),(0,_dragDrop2["default"])(this.target+" .UppyDragDrop-container",function(e){t.handleDrop(e),t.core.log(e)})},e}(_Plugin3["default"]);exports["default"]=DragDrop;
},{"../core/Utils":27,"./Plugin":41,"drag-drop":4,"yo-yo":15}],32:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),Dropbox=function(t){function e(r,n){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,t.call(this,r,n));return i.type="acquirer",i.id="Dropbox",i.title="Dropbox",i.authenticate=i.authenticate.bind(i),i.connect=i.connect.bind(i),i.render=i.render.bind(i),i.files=[],i.currentDirectory="/",i}return _inherits(e,t),e.prototype.connect=function(t){this.getDirectory()},e.prototype.authenticate=function(){},e.prototype.addFile=function(){},e.prototype.getDirectory=function(){},e.prototype.run=function(t){},e.prototype.render=function(t){var e=this,r=t.map(function(t,e){var r=t.isFolder?"folder":"file";return'<li data-type="'+r+'" data-name="'+t.name+'">\n        <span>'+r+": </span>\n        <span> "+t.name+"</span>\n      </li>"});if(this._target.innerHTML=r.sort().join(""),this.currentDir.length>1){var n=document.createElement("LI");n.setAttribute("data-type","parent"),n.innerHTML="<span>...</span>",this._target.appendChild(n)}var i=this._target.querySelectorAll("li");Array.prototype.forEach.call(i,function(t){var r=t.getAttribute("data-type");"file"===r?t.addEventListener("click",function(){e.files.push(t.getAttribute("data-name")),console.log("files: "+e.files)}):t.addEventListener("dblclick",function(){var n=e.currentDir.split("/").length;"folder"===r?e.currentDir=""+e.currentDir+t.getAttribute("data-name")+"/":"parent"===r&&(e.currentDir=e.currentDir.split("/").slice(0,n-2).join("/")+"/"),console.log(e.currentDir),e.getDirectory()})})},e}(_Plugin3["default"]);exports["default"]=Dropbox;
},{"./Plugin":41}],33:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _taggedTemplateLiteralLoose(t,e){return t.raw=e,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_templateObject=_taggedTemplateLiteralLoose(["<h1>this is strange 1</h1>"],["<h1>this is strange 1</h1>"]),_templateObject2=_taggedTemplateLiteralLoose(["<h2>this is strange 2</h2>"],["<h2>this is strange 2</h2>"]),_templateObject3=_taggedTemplateLiteralLoose(['\n      <div class="wow-this-works">\n        <input class="UppyDummy-firstInput" type="text" value="hello">\n        ',"\n        ","\n      </div>\n    "],['\n      <div class="wow-this-works">\n        <input class="UppyDummy-firstInput" type="text" value="hello">\n        ',"\n        ","\n      </div>\n    "]),_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),Dummy=function(t){function e(n,r){_classCallCheck(this,e);var o=_possibleConstructorReturn(this,t.call(this,n,r));o.type="acquirer",o.id="Dummy",o.title="Mr. Plugin";var i={};return o.opts=_extends({},i,r),o.strange=(0,_yoYo2["default"])(_templateObject),o.render=o.render.bind(o),o.install=o.install.bind(o),o}return _inherits(e,t),e.prototype.render=function(){var t=(0,_yoYo2["default"])(_templateObject2);return(0,_yoYo2["default"])(_templateObject3,this.strange,t)},e.prototype.focus=function(){var t=document.querySelector(this.target+" .UppyDummy-firstInput");setTimeout(function(){t.focus()},10)},e.prototype.install=function(){var t=this.opts.target,e=this;this.target=this.mount(t,e)},e}(_Plugin3["default"]);exports["default"]=Dummy;
},{"./Plugin":41,"yo-yo":15}],34:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _taggedTemplateLiteralLoose(t,e){return t.raw=e,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_templateObject=_taggedTemplateLiteralLoose(['<form class="UppyFormContainer">\n      <input class="UppyForm-input"\n             type="file"\n             name="files[]"\n             onchange=','\n             multiple="','"\n             value="">\n      ',"\n    </form>"],['<form class="UppyFormContainer">\n      <input class="UppyForm-input"\n             type="file"\n             name="files[]"\n             onchange=','\n             multiple="','"\n             value="">\n      ',"\n    </form>"]),_templateObject2=_taggedTemplateLiteralLoose(['<button class="UppyForm-uploadBtn UppyNextBtn"\n                     type="submit"\n                     onclick=',">\n              ","\n            </button>"],['<button class="UppyForm-uploadBtn UppyNextBtn"\n                     type="submit"\n                     onclick=',">\n              ","\n            </button>"]),_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_Utils=require("../core/Utils"),_Utils2=_interopRequireDefault(_Utils),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),Formtag=function(t){function e(n,o){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,t.call(this,n,o));r.id="Formtag",r.title="Formtag",r.type="acquirer";var i={target:".UppyForm",replaceTargetContent:!0,multipleFiles:!0};return r.opts=_extends({},i,o),r.render=r.render.bind(r),r}return _inherits(e,t),e.prototype.handleInputChange=function(t){var e=this;this.core.log("All right, something selected through input...");var n=_Utils2["default"].toArray(t.target.files);n.forEach(function(t){e.core.emitter.emit("file-add",{source:e.id,name:t.name,type:t.type,data:t})})},e.prototype.render=function(t){var e=this,n=function(t){t.preventDefault(),t.stopPropagation(),e.core.emitter.emit("next")};return(0,_yoYo2["default"])(_templateObject,this.handleInputChange.bind(this),this.opts.multipleFiles?"true":"false",this.core.opts.autoProceed||"Modal"===this.opts.target.name?"":(0,_yoYo2["default"])(_templateObject2,n,this.core.i18n("upload")))},e.prototype.install=function(){var t=this.opts.target,e=this;this.target=this.mount(t,e)},e}(_Plugin3["default"]);exports["default"]=Formtag;
},{"../core/Utils":27,"./Plugin":41,"yo-yo":15}],35:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},_templateObject=_taggedTemplateLiteralLoose(['\n      <svg class="UppyIcon UppyModalTab-icon" width="28" height="28" viewBox="0 0 16 16">\n        <path d="M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z"/>\n      </svg>\n    '],['\n      <svg class="UppyIcon UppyModalTab-icon" width="28" height="28" viewBox="0 0 16 16">\n        <path d="M2.955 14.93l2.667-4.62H16l-2.667 4.62H2.955zm2.378-4.62l-2.666 4.62L0 10.31l5.19-8.99 2.666 4.62-2.523 4.37zm10.523-.25h-5.333l-5.19-8.99h5.334l5.19 8.99z"/>\n      </svg>\n    ']),_templateObject2=_taggedTemplateLiteralLoose(['\n      <div class="UppyGoogleDrive-authenticate">\n        <h1>You need to authenticate with Google before selecting files.</h1>\n        <a href=',">Authenticate</a>\n      </div>\n    "],['\n      <div class="UppyGoogleDrive-authenticate">\n        <h1>You need to authenticate with Google before selecting files.</h1>\n        <a href=',">Authenticate</a>\n      </div>\n    "]),_templateObject3=_taggedTemplateLiteralLoose(["<li><button onclick=",">","</button></li> "],["<li><button onclick=",">","</button></li> "]),_templateObject4=_taggedTemplateLiteralLoose(['\n        <div>\n          <h1><span class="UppyGoogleDrive-fileIcon"><img src=',"/></span>","</h1>\n          <ul>\n            <li>Type: ","</li>\n            <li>Modified By Me: ","</li>\n          </ul>\n          ","\n        </div>\n      "],['\n        <div>\n          <h1><span class="UppyGoogleDrive-fileIcon"><img src=',"/></span>","</h1>\n          <ul>\n            <li>Type: ","</li>\n            <li>Modified By Me: ","</li>\n          </ul>\n          ","\n        </div>\n      "]),_templateObject5=_taggedTemplateLiteralLoose(["<img src=",' class="UppyGoogleDrive-fileThumbnail" />'],["<img src=",' class="UppyGoogleDrive-fileThumbnail" />']),_templateObject6=_taggedTemplateLiteralLoose([""],[""]),_templateObject7=_taggedTemplateLiteralLoose(['\n      <div>\n        <div class="UppyGoogleDrive-header">\n          <ul class="UppyGoogleDrive-breadcrumbs">\n            ','\n          </ul>\n        </div>\n        <div class="container-fluid">\n          <div class="row">\n            <div class="hidden-md-down col-lg-3 col-xl-3">\n              <ul class="UppyGoogleDrive-sidebar">\n                <li class="UppyGoogleDrive-filter"><input class="UppyGoogleDrive-focusInput" type=\'text\' onkeyup=',' placeholder="Search.." value=',"/></li>\n                <li><button onclick=",'><img src="https://ssl.gstatic.com/docs/doclist/images/icon_11_collection_list_3.png"/> My Drive</button></li>\n                <li><button><img src="https://ssl.gstatic.com/docs/doclist/images/icon_11_shared_collection_list_1.png"/> Shared with me</button></li>\n                <li><button onclick=','>Logout</button></li>\n              </ul>\n            </div>\n            <div class="col-md-12 col-lg-9 col-xl-6">\n              <div class="UppyGoogleDrive-browserContainer">\n                <table class="UppyGoogleDrive-browser">\n                  <thead>\n                    <tr>\n                      <td class="UppyGoogleDrive-sortableHeader" onclick=','>Name</td>\n                      <td>Owner</td>\n                      <td class="UppyGoogleDrive-sortableHeader" onclick=',">Last Modified</td>\n                      <td>Filesize</td>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    ","\n                    ",'\n                  </tbody>\n                </table>\n              </div>\n            </div>\n            <div class="hidden-lg-down col-xl-2">\n              <div class="UppyGoogleDrive-fileInfo">\n                ',"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "],['\n      <div>\n        <div class="UppyGoogleDrive-header">\n          <ul class="UppyGoogleDrive-breadcrumbs">\n            ','\n          </ul>\n        </div>\n        <div class="container-fluid">\n          <div class="row">\n            <div class="hidden-md-down col-lg-3 col-xl-3">\n              <ul class="UppyGoogleDrive-sidebar">\n                <li class="UppyGoogleDrive-filter"><input class="UppyGoogleDrive-focusInput" type=\'text\' onkeyup=',' placeholder="Search.." value=',"/></li>\n                <li><button onclick=",'><img src="https://ssl.gstatic.com/docs/doclist/images/icon_11_collection_list_3.png"/> My Drive</button></li>\n                <li><button><img src="https://ssl.gstatic.com/docs/doclist/images/icon_11_shared_collection_list_1.png"/> Shared with me</button></li>\n                <li><button onclick=','>Logout</button></li>\n              </ul>\n            </div>\n            <div class="col-md-12 col-lg-9 col-xl-6">\n              <div class="UppyGoogleDrive-browserContainer">\n                <table class="UppyGoogleDrive-browser">\n                  <thead>\n                    <tr>\n                      <td class="UppyGoogleDrive-sortableHeader" onclick=','>Name</td>\n                      <td>Owner</td>\n                      <td class="UppyGoogleDrive-sortableHeader" onclick=',">Last Modified</td>\n                      <td>Filesize</td>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    ","\n                    ",'\n                  </tbody>\n                </table>\n              </div>\n            </div>\n            <div class="hidden-lg-down col-xl-2">\n              <div class="UppyGoogleDrive-fileInfo">\n                ',"\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    "]),_templateObject8=_taggedTemplateLiteralLoose(["\n      <tr class=","\n        onclick=","\n        ondblclick=",'>\n        <td><span class="UppyGoogleDrive-folderIcon"><img src=',"/></span> ","</td>\n        <td>Me</td>\n        <td>","</td>\n        <td>-</td>\n      </tr>\n    "],["\n      <tr class=","\n        onclick=","\n        ondblclick=",'>\n        <td><span class="UppyGoogleDrive-folderIcon"><img src=',"/></span> ","</td>\n        <td>Me</td>\n        <td>","</td>\n        <td>-</td>\n      </tr>\n    "]),_templateObject9=_taggedTemplateLiteralLoose(["\n      <div>\n        <span>\n          Something went wrong.  Probably our fault. ","\n        </span>\n      </div>\n    "],["\n      <div>\n        <span>\n          Something went wrong.  Probably our fault. ","\n        </span>\n      </div>\n    "]),_Utils=require("../core/Utils"),_Utils2=_interopRequireDefault(_Utils),_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2);require("whatwg-fetch");var _yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),Google=function(e){function t(o,i){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,e.call(this,o,i));n.type="acquirer",n.id="GoogleDrive",n.title="Google Drive",n.icon=(0,_yoYo2["default"])(_templateObject),n.files=[],n.addFile=n.addFile.bind(n),n.getFolder=n.getFolder.bind(n),n.handleClick=n.handleClick.bind(n),n.logout=n.logout.bind(n),n.renderBrowserItem=n.renderBrowserItem.bind(n),n.filterItems=n.filterItems.bind(n),n.filterQuery=n.filterQuery.bind(n),n.renderAuth=n.renderAuth.bind(n),n.renderBrowser=n.renderBrowser.bind(n),n.sortByTitle=n.sortByTitle.bind(n),n.sortByDate=n.sortByDate.bind(n),n.render=n.render.bind(n);var r={};n.opts=_extends({},r,i);var l=n.opts.host.replace(/^https?:\/\//,"");return n.socket=n.core.initSocket({target:"ws://"+l+"/"}),n.socket.on("google.auth.pass",function(){console.log("google.auth.pass"),n.getFolder(n.core.getState().googleDrive.directory.id)}),n.socket.on("uppy.debug",function(e){console.log("GOOGLE DEBUG:"),console.log(e)}),n.socket.on("google.list.ok",function(e){console.log("google.list.ok");var t=[],o=[];e.items.forEach(function(e){"application/vnd.google-apps.folder"===e.mimeType?t.push(e):o.push(e)}),n.updateState({folders:t,files:o,authenticated:!0})}),n.socket.on("google.list.fail",function(e){console.log("google.list.fail"),console.log(e)}),n.socket.on("google.auth.fail",function(){console.log("google.auth.fail"),n.updateState({authenticated:!1})}),n}return _inherits(t,e),t.prototype.install=function(){var e=this;this.core.setState({googleDrive:{authenticated:!1,files:[],folders:[],directory:[{title:"My Drive",id:"root"}],active:{},filterInput:""}});var t=this.opts.target,o=this;this.target=this.mount(t,o),this.checkAuthentication().then(function(t){return e.updateState({authenticated:t}),t?e.getFolder(e.core.getState().googleDrive.directory.id):t}).then(function(t){e.updateState(t)})},t.prototype.focus=function(){var e=document.querySelector(this.target+" .UppyGoogleDrive-focusInput");setTimeout(function(){e.focus()},10)},t.prototype.updateState=function(e){var t=this.core.state,o=_extends({},t.googleDrive,e);this.core.setState({googleDrive:o})},t.prototype.checkAuthentication=function(){var e=this;return fetch(this.opts.host+"/google/authorize",{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){if(t.status>=200&&t.status<=300)return t.json();e.updateState({authenticated:!1,error:!0});var o=new Error(t.statusText);throw o.response=t,o}).then(function(e){return e.isAuthenticated})["catch"](function(e){return e})},t.prototype.getFolder=function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"root":arguments[0];return fetch(this.opts.host+"/google/list?dir="+t,{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){if(t.status>=200&&t.status<=300)return t.json().then(function(e){var t=[],o=[];return e.items.forEach(function(e){"application/vnd.google-apps.folder"===e.mimeType?t.push(e):o.push(e)}),{folders:t,files:o}});e.handleError(t);var o=new Error(t.statusText);throw o.response=t,o})["catch"](function(e){return e})},t.prototype.getNextFolder=function(e,t){var o=this;this.getFolder(e).then(function(i){var n=o.core.getState().googleDrive,r=n.directory.findIndex(function(t){return e===t.id}),l=void 0;l=-1!==r?n.directory.slice(0,r+1):n.directory.concat([{id:e,title:t}]),o.updateState(_Utils2["default"].extend(i,{directory:l}))})},t.prototype.addFile=function(e){var t={source:this,data:e,name:e.title,type:this.getFileType(e),remote:{action:"google.get",payload:{id:e.id}}};this.core.emitter.emit("file-add",t)},t.prototype.handleError=function(e){var t=this;this.checkAuthentication().then(function(e){t.updateState({authenticated:e})})},t.prototype.logout=function(){var e=this;fetch(this.opts.host+"/google/logout?redirect="+location.href,{method:"get",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(t){if(t.ok){console.log("ok");var o={authenticated:!1,files:[],folders:[],directory:[{title:"My Drive",id:"root"}]};e.updateState(o)}})},t.prototype.getFileType=function(e){var t={"application/vnd.google-apps.folder":"Folder","application/vnd.google-apps.document":"Google Docs","application/vnd.google-apps.spreadsheet":"Google Sheets","application/vnd.google-apps.presentation":"Google Slides","image/jpeg":"JPEG Image","image/png":"PNG Image"};return t[e.mimeType]?t[e.mimeType]:e.fileExtension.toUpperCase()},t.prototype.handleClick=function(e){var t=this.core.getState().googleDrive,o=_extends({},t,{active:e});this.updateState(o)},t.prototype.filterQuery=function(e){var t=this.core.getState().googleDrive;this.updateState(_extends({},t,{filterInput:e.target.value}))},t.prototype.filterItems=function(e){var t=this.core.getState().googleDrive;return e.filter(function(e){return-1!==e.title.toLowerCase().indexOf(t.filterInput.toLowerCase())})},t.prototype.sortByTitle=function(){var e=this.core.getState().googleDrive,t=e.files,o=e.folders,i=e.sorting,n=t.sort(function(e,t){return"titleDescending"===i?t.title.localeCompare(e.title):e.title.localeCompare(t.title)}),r=o.sort(function(e,t){return"titleDescending"===i?t.title.localeCompare(e.title):e.title.localeCompare(t.title)});this.updateState(_extends({},e,{files:n,folders:r,sorting:"titleDescending"===i?"titleAscending":"titleDescending"}))},t.prototype.sortByDate=function(){var e=this.core.getState().googleDrive,t=e.files,o=e.folders,i=e.sorting,n=t.sort(function(e,t){var o=new Date(e.modifiedByMeDate),n=new Date(t.modifiedByMeDate);return"dateDescending"===i?o>n?-1:n>o?1:0:o>n?1:n>o?-1:0}),r=o.sort(function(e,t){var o=new Date(e.modifiedByMeDate),n=new Date(t.modifiedByMeDate);return"dateDescending"===i?o>n?-1:n>o?1:0:o>n?1:n>o?-1:0});this.updateState(_extends({},e,{files:n,folders:r,sorting:"dateDescending"===i?"dateAscending":"dateDescending"}))},t.prototype.renderAuth=function(){var e=btoa(JSON.stringify({redirect:location.href.split("#")[0]})),t=this.opts.host+"/connect/google?state="+e;return(0,_yoYo2["default"])(_templateObject2,t)},t.prototype.renderBrowser=function(e){var t=this,o=e.folders,i=e.files,n="",r=0!==Object.keys(e.active).length&&JSON.stringify(e.active)!==JSON.stringify({});""!==e.filterInput&&(o=this.filterItems(e.folders),i=this.filterItems(e.files)),o=o.map(function(e){return t.renderBrowserItem(e)}),i=i.map(function(e){return t.renderBrowserItem(e)});var l=e.directory.map(function(e){return(0,_yoYo2["default"])(_templateObject3,t.getNextFolder.bind(t,e.id,e.title),e.title)});return r&&(n=(0,_yoYo2["default"])(_templateObject4,e.active.iconLink,e.active.title,this.getFileType(e.active),e.active.modifiedByMeDate,e.active.thumbnailLink?(0,_yoYo2["default"])(_templateObject5,e.active.thumbnailLink):(0,_yoYo2["default"])(_templateObject6))),(0,_yoYo2["default"])(_templateObject7,l,this.filterQuery,e.filterInput,this.getNextFolder.bind(this,"root","My Drive"),this.logout,this.sortByTitle,this.sortByDate,o,i,n)},t.prototype.renderBrowserItem=function(e){var t=this.core.getState().googleDrive,o=0!==Object.keys(t.active).length&&JSON.stringify(t.active)!==JSON.stringify({}),i="application/vnd.google-apps.folder"===e.mimeType;return(0,_yoYo2["default"])(_templateObject8,o&&t.active.id===e.id?"is-active":"",this.handleClick.bind(this,e),i?this.getNextFolder.bind(this,e.id,e.title):this.addFile.bind(this,e),e.iconLink,e.title,e.modifiedByMeDate)},t.prototype.renderError=function(e){return(0,_yoYo2["default"])(_templateObject9,e)},t.prototype.render=function(e){return e.googleDrive.error?this.renderError():e.googleDrive.authenticated?this.renderBrowser(e.googleDrive):this.renderAuth()},t}(_Plugin3["default"]);exports["default"]=Google;
},{"../core/Utils":27,"./Plugin":41,"whatwg-fetch":14,"yo-yo":15}],36:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function Dashboard(e,t,o){var a=function(e){t.emit("next")},n=Object.keys(e).filter(function(t){return 100!==e[t].progress}),s=Object.keys(n).length,l=s>0;return(0,_yoYo2["default"])(_templateObject,Object.keys(e).map(function(o){return(0,_FileItem2["default"])(t,e[o])}),!o&&l?(0,_yoYo2["default"])(_templateObject2,a,(0,_icons.uploadIcon)(),s):null)}exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(['<div class="UppyDashboard">\n    <h3 class="UppyDashboard-title">Drag files here or select from</h3>\n    <ul class="UppyDashboard-list">\n      ',"\n    </ul>\n    ","\n  </div>"],['<div class="UppyDashboard">\n    <h3 class="UppyDashboard-title">Drag files here or select from</h3>\n    <ul class="UppyDashboard-list">\n      ',"\n    </ul>\n    ","\n  </div>"]),_templateObject2=_taggedTemplateLiteralLoose(['<button class="UppyDashboard-upload"\n                     type="button"\n                     onclick=',">\n                ",'\n                <sup class="UppyDashboard-uploadCount">',"</sup>\n             </button>"],['<button class="UppyDashboard-upload"\n                     type="button"\n                     onclick=',">\n                ",'\n                <sup class="UppyDashboard-uploadCount">',"</sup>\n             </button>"]),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),_FileItem=require("./FileItem"),_FileItem2=_interopRequireDefault(_FileItem),_icons=require("./icons");exports["default"]=Dashboard;
},{"./FileItem":37,"./icons":38,"yo-yo":15}],37:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,a){return e.raw=a,e}function fileItem(e,a){var t=100===a.progress,s=a.progress>0&&a.progress<100,n=function(t){e.emit("file-remove",a.id)};return(0,_yoYo2["default"])(_templateObject,a.id,a.name,"image"===a.type.general?a.previewEl:(0,_icons.fileIcon)(a.type),a.uploadURL?(0,_yoYo2["default"])(_templateObject2,a.uploadURL,a.name):(0,_yoYo2["default"])(_templateObject3,a.name),a.totalSize,s?"Uploading… "+a.progress+"%":"",t?"Completed":"",t?(0,_icons.checkIcon)():(0,_yoYo2["default"])(_templateObject4,n,(0,_icons.removeIcon)()),s?"is-active":"",a.progress)}exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(['<li class="UppyDashboardItem"\n                  id="','"\n                  title="','">\n    <div class="UppyDashboardItem-icon">\n      ','\n    </div>\n    <h4 class="UppyDashboardItem-name">\n      ','\n      <br>\n    </h4>\n    <div class="UppyDashboardItem-status">\n      <div class="UppyDashboardItem-statusSize">',"</div>\n      ","\n      ",'\n    </div>\n    <div class="UppyDashboardItem-action">\n      ','\n    </div>\n    <div class="UppyDashboardItem-progress ','">\n      <div class="UppyDashboardItem-progressInner" style="width: ','%"></div>\n    </div>\n  </li>'],['<li class="UppyDashboardItem"\n                  id="','"\n                  title="','">\n    <div class="UppyDashboardItem-icon">\n      ','\n    </div>\n    <h4 class="UppyDashboardItem-name">\n      ','\n      <br>\n    </h4>\n    <div class="UppyDashboardItem-status">\n      <div class="UppyDashboardItem-statusSize">',"</div>\n      ","\n      ",'\n    </div>\n    <div class="UppyDashboardItem-action">\n      ','\n    </div>\n    <div class="UppyDashboardItem-progress ','">\n      <div class="UppyDashboardItem-progressInner" style="width: ','%"></div>\n    </div>\n  </li>']),_templateObject2=_taggedTemplateLiteralLoose(['<a href="','" target="_blank">',"</a>"],['<a href="','" target="_blank">',"</a>"]),_templateObject3=_taggedTemplateLiteralLoose(["<span>","</span>"],["<span>","</span>"]),_templateObject4=_taggedTemplateLiteralLoose(['<button class="UppyDashboardItem-remove"\n                       aria-label="Remove this file"\n                       onclick=',">\n                  ","\n               </button>"],['<button class="UppyDashboardItem-remove"\n                       aria-label="Remove this file"\n                       onclick=',">\n                  ","\n               </button>"]);exports["default"]=fileItem;var _yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),_icons=require("./icons");
},{"./icons":38,"yo-yo":15}],38:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function defaultTabIcon(){return(0,_yoYo2["default"])(_templateObject)}function backIcon(){return(0,_yoYo2["default"])(_templateObject2)}function closeIcon(){return(0,_yoYo2["default"])(_templateObject3)}function pluginIcon(){return(0,_yoYo2["default"])(_templateObject4)}function checkIcon(){return(0,_yoYo2["default"])(_templateObject5)}function removeIcon(){return(0,_yoYo2["default"])(_templateObject6)}function uploadIcon(){return(0,_yoYo2["default"])(_templateObject7)}function fileIcon(e){return(0,_yoYo2["default"])(_templateObject8,e.specific?e.specific.toUpperCase():"?")}exports.__esModule=!0;var _templateObject=_taggedTemplateLiteralLoose(['<svg class="UppyIcon UppyModalTab-icon" width="224" height="224" viewBox="0 0 224 224">\n    <path d="M112 224c61.856 0 112-50.144 112-112S173.856 0 112 0 0 50.144 0 112s50.144 112 112 112zm0-12c55.228 0 100-44.772 100-100S167.228 12 112 12 12 56.772 12 112s44.772 100 100 100z"/>\n    <path d="M147.67 132.24v57.43H77v-57.43H29.79l82.38-103.71 82.37 103.71h-46.87z" fill="#FFF"/>\n  </svg>'],['<svg class="UppyIcon UppyModalTab-icon" width="224" height="224" viewBox="0 0 224 224">\n    <path d="M112 224c61.856 0 112-50.144 112-112S173.856 0 112 0 0 50.144 0 112s50.144 112 112 112zm0-12c55.228 0 100-44.772 100-100S167.228 12 112 12 12 56.772 12 112s44.772 100 100 100z"/>\n    <path d="M147.67 132.24v57.43H77v-57.43H29.79l82.38-103.71 82.37 103.71h-46.87z" fill="#FFF"/>\n  </svg>']),_templateObject2=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="7px" height="10px" viewBox="0 0 23 45">\n    <polygon points="21.2678133 0.318896058 1.26781326 21.8188961 0.634228199 22.5 1.26781326 23.1811039 21.2678133 44.6811039 22.7321867 43.3188961 2.73218674 21.8188961 2.73218674 23.1811039 22.7321867 1.68110394"></polygon>\n  </svg>'],['<svg class="UppyIcon" width="7px" height="10px" viewBox="0 0 23 45">\n    <polygon points="21.2678133 0.318896058 1.26781326 21.8188961 0.634228199 22.5 1.26781326 23.1811039 21.2678133 44.6811039 22.7321867 43.3188961 2.73218674 21.8188961 2.73218674 23.1811039 22.7321867 1.68110394"></polygon>\n  </svg>']),_templateObject3=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="17px" height="17px" viewBox="0 0 19 19">\n    <polygon points="17.3182539 17.2324466 9.93955339 9.85374611 9.586 9.50019272 9.23244661 9.85374611 1.85374611 17.2324466 2.56085289 17.2324466 1.93955339 16.6111471 1.93955865 17.3182486 9.31803946 9.93954813 9.67158232 9.58599474 9.31803419 9.23244661 1.93955339 1.85396581 1.93961588 2.56101008 2.56091538 1.93949089 1.85375137 1.93955865 9.23245187 9.31803946 9.586 9.67157706 9.93954813 9.31803946 17.3182486 1.93955865 16.6111471 1.93955339 17.2324466 2.56085289 17.2324466 1.85374611 9.85374611 9.23244661 9.50019272 9.586 9.85374611 9.93955339 17.2324466 17.3182539 17.9395534 16.6111471 10.5608529 9.23244661 10.5608529 9.93955339 17.9395534 2.56085289 18.2931068 2.2072995 17.9395534 1.85374611 17.3182539 1.23244661 16.9647058 0.878898482 16.6111524 1.23244135 9.23245187 8.61092215 9.93954813 8.61092215 2.56084763 1.23244135 2.20723173 0.87883598 1.85368362 1.23250911 1.23238412 1.85402831 0.878955712 2.20758169 1.23244661 2.56107259 8.61092741 9.93955339 8.61092215 9.23245187 1.23244135 16.6111524 0.878898482 16.9647058 1.23244661 17.3182539 1.85374611 17.9395534 2.2072995 18.2931068 2.56085289 17.9395534 9.93955339 10.5608529 9.23244661 10.5608529 16.6111471 17.9395534"></polygon>\n  </svg>'],['<svg class="UppyIcon" width="17px" height="17px" viewBox="0 0 19 19">\n    <polygon points="17.3182539 17.2324466 9.93955339 9.85374611 9.586 9.50019272 9.23244661 9.85374611 1.85374611 17.2324466 2.56085289 17.2324466 1.93955339 16.6111471 1.93955865 17.3182486 9.31803946 9.93954813 9.67158232 9.58599474 9.31803419 9.23244661 1.93955339 1.85396581 1.93961588 2.56101008 2.56091538 1.93949089 1.85375137 1.93955865 9.23245187 9.31803946 9.586 9.67157706 9.93954813 9.31803946 17.3182486 1.93955865 16.6111471 1.93955339 17.2324466 2.56085289 17.2324466 1.85374611 9.85374611 9.23244661 9.50019272 9.586 9.85374611 9.93955339 17.2324466 17.3182539 17.9395534 16.6111471 10.5608529 9.23244661 10.5608529 9.93955339 17.9395534 2.56085289 18.2931068 2.2072995 17.9395534 1.85374611 17.3182539 1.23244661 16.9647058 0.878898482 16.6111524 1.23244135 9.23245187 8.61092215 9.93954813 8.61092215 2.56084763 1.23244135 2.20723173 0.87883598 1.85368362 1.23250911 1.23238412 1.85402831 0.878955712 2.20758169 1.23244661 2.56107259 8.61092741 9.93955339 8.61092215 9.23245187 1.23244135 16.6111524 0.878898482 16.9647058 1.23244661 17.3182539 1.85374611 17.9395534 2.2072995 18.2931068 2.56085289 17.9395534 9.93955339 10.5608529 9.23244661 10.5608529 16.6111471 17.9395534"></polygon>\n  </svg>']),_templateObject4=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="16px" height="16px" viewBox="0 0 32 30" class="UppyModalTab-icon">\n      <path d="M6.6209894,11.1451162 C6.6823051,11.2751669 6.81374248,11.3572188 6.95463813,11.3572188 L12.6925482,11.3572188 L12.6925482,16.0630427 C12.6925482,17.880509 14.1726048,18.75 16.0000083,18.75 C17.8261072,18.75 19.3074684,17.8801847 19.3074684,16.0630427 L19.3074684,11.3572188 L25.0437478,11.3572188 C25.1875787,11.3572188 25.3164069,11.2751669 25.3790272,11.1451162 C25.4370814,11.0173358 25.4171865,10.8642587 25.3252129,10.7562615 L16.278212,0.127131837 C16.2093949,0.0463771751 16.1069846,0 15.9996822,0 C15.8910751,0 15.7886648,0.0463771751 15.718217,0.127131837 L6.6761083,10.7559371 C6.58250402,10.8642587 6.56293518,11.0173358 6.6209894,11.1451162 L6.6209894,11.1451162 Z"/>\n      <path d="M28.8008722,6.11142645 C28.5417891,5.19831555 28.1583331,4.6875 27.3684848,4.6875 L21.6124454,4.6875 L22.8190234,6.10307874 L27.4986725,6.10307874 L29.9195817,19.3486449 L21.3943891,19.3502502 L21.3943891,22.622552 L10.8023461,22.622552 L10.8023461,19.3524977 L2.07815702,19.3534609 L5.22979699,6.10307874 L9.17871529,6.10307874 L10.3840011,4.6875 L4.6308691,4.6875 C3.83940559,4.6875 3.37421888,5.2390909 3.19815864,6.11142645 L0,19.7470874 L0,28.2212959 C0,29.2043992 0.801477937,30 1.78870751,30 L30.2096773,30 C31.198199,30 32,29.2043992 32,28.2212959 L32,19.7470874 L28.8008722,6.11142645 L28.8008722,6.11142645 Z"/>\n    </svg>'],['<svg class="UppyIcon" width="16px" height="16px" viewBox="0 0 32 30" class="UppyModalTab-icon">\n      <path d="M6.6209894,11.1451162 C6.6823051,11.2751669 6.81374248,11.3572188 6.95463813,11.3572188 L12.6925482,11.3572188 L12.6925482,16.0630427 C12.6925482,17.880509 14.1726048,18.75 16.0000083,18.75 C17.8261072,18.75 19.3074684,17.8801847 19.3074684,16.0630427 L19.3074684,11.3572188 L25.0437478,11.3572188 C25.1875787,11.3572188 25.3164069,11.2751669 25.3790272,11.1451162 C25.4370814,11.0173358 25.4171865,10.8642587 25.3252129,10.7562615 L16.278212,0.127131837 C16.2093949,0.0463771751 16.1069846,0 15.9996822,0 C15.8910751,0 15.7886648,0.0463771751 15.718217,0.127131837 L6.6761083,10.7559371 C6.58250402,10.8642587 6.56293518,11.0173358 6.6209894,11.1451162 L6.6209894,11.1451162 Z"/>\n      <path d="M28.8008722,6.11142645 C28.5417891,5.19831555 28.1583331,4.6875 27.3684848,4.6875 L21.6124454,4.6875 L22.8190234,6.10307874 L27.4986725,6.10307874 L29.9195817,19.3486449 L21.3943891,19.3502502 L21.3943891,22.622552 L10.8023461,22.622552 L10.8023461,19.3524977 L2.07815702,19.3534609 L5.22979699,6.10307874 L9.17871529,6.10307874 L10.3840011,4.6875 L4.6308691,4.6875 C3.83940559,4.6875 3.37421888,5.2390909 3.19815864,6.11142645 L0,19.7470874 L0,28.2212959 C0,29.2043992 0.801477937,30 1.78870751,30 L30.2096773,30 C31.198199,30 32,29.2043992 32,28.2212959 L32,19.7470874 L28.8008722,6.11142645 L28.8008722,6.11142645 Z"/>\n    </svg>']),_templateObject5=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="18px" height="18px" viewBox="0 0 18 18">\n    <ellipse fill="#7AC824" cx="8" cy="8" rx="8" ry="8"/>\n    <polygon fill="#FFFFFF" points="6.93333333 12 3.2 8.13104347 4.26659124 7.02575014 6.93333333 9.78917886 11.7189271 4.8 12.8 5.92030049 6.93333333 12"/>\n  </svg>'],['<svg class="UppyIcon" width="18px" height="18px" viewBox="0 0 18 18">\n    <ellipse fill="#7AC824" cx="8" cy="8" rx="8" ry="8"/>\n    <polygon fill="#FFFFFF" points="6.93333333 12 3.2 8.13104347 4.26659124 7.02575014 6.93333333 9.78917886 11.7189271 4.8 12.8 5.92030049 6.93333333 12"/>\n  </svg>']),_templateObject6=_taggedTemplateLiteralLoose(['<svg aria-hidden="true" class="UppyIcon" width="16px" height="16px" viewBox="0 0 16 16">\n    <path d="M8,16 C12.418278,16 16,12.418278 16,8 C16,3.581722 12.418278,0 8,0 C3.581722,0 0,3.581722 0,8 C0,12.418278 3.581722,16 8,16 L8,16 Z M8,15.04 C4.11191536,15.04 0.96,11.8880846 0.96,8 C0.96,4.11191536 4.11191536,0.96 8,0.96 C11.8880846,0.96 15.04,4.11191536 15.04,8 C15.04,11.8880846 11.8880846,15.04 8,15.04 L8,15.04 Z"/>\n    <polygon points="11.7336473 11.0546647 4.94532725 4.26650475 4.26651275 4.94533525 11.0548327 11.7334953"/>\n    <polygon points="4.94532725 11.7334953 11.7336473 4.94533525 11.0548327 4.26650475 4.26651275 11.0546647"/>\n  </svg>'],['<svg aria-hidden="true" class="UppyIcon" width="16px" height="16px" viewBox="0 0 16 16">\n    <path d="M8,16 C12.418278,16 16,12.418278 16,8 C16,3.581722 12.418278,0 8,0 C3.581722,0 0,3.581722 0,8 C0,12.418278 3.581722,16 8,16 L8,16 Z M8,15.04 C4.11191536,15.04 0.96,11.8880846 0.96,8 C0.96,4.11191536 4.11191536,0.96 8,0.96 C11.8880846,0.96 15.04,4.11191536 15.04,8 C15.04,11.8880846 11.8880846,15.04 8,15.04 L8,15.04 Z"/>\n    <polygon points="11.7336473 11.0546647 4.94532725 4.26650475 4.26651275 4.94533525 11.0548327 11.7334953"/>\n    <polygon points="4.94532725 11.7334953 11.7336473 4.94533525 11.0548327 4.26650475 4.26651275 11.0546647"/>\n  </svg>']),_templateObject7=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="37" height="33" viewBox="0 0 37 33">\n    <path d="M29.107 24.5c4.07 0 7.393-3.355 7.393-7.442 0-3.994-3.105-7.307-7.012-7.502l.468.415C29.02 4.52 24.34.5 18.886.5c-4.348 0-8.27 2.522-10.138 6.506l.446-.288C4.394 6.782.5 10.758.5 15.608c0 4.924 3.906 8.892 8.76 8.892h4.872c.635 0 1.095-.467 1.095-1.104 0-.636-.46-1.103-1.095-1.103H9.26c-3.644 0-6.63-3.035-6.63-6.744 0-3.71 2.926-6.685 6.57-6.685h.964l.14-.28.177-.362c1.477-3.4 4.744-5.576 8.347-5.576 4.58 0 8.45 3.452 9.01 8.072l.06.536.05.446h1.101c2.87 0 5.204 2.37 5.204 5.295s-2.333 5.296-5.204 5.296h-6.062c-.634 0-1.094.467-1.094 1.103 0 .637.46 1.104 1.094 1.104h6.12z"/>\n    <path d="M23.196 18.92l-4.828-5.258-.366-.4-.368.398-4.828 5.196a1.13 1.13 0 0 0 0 1.546c.428.46 1.11.46 1.537 0l3.45-3.71-.868-.34v15.03c0 .64.445 1.118 1.075 1.118.63 0 1.075-.48 1.075-1.12V16.35l-.867.34 3.45 3.712a1 1 0 0 0 .767.345 1 1 0 0 0 .77-.345c.416-.33.416-1.036 0-1.485v.003z"/>\n  </svg>'],['<svg class="UppyIcon" width="37" height="33" viewBox="0 0 37 33">\n    <path d="M29.107 24.5c4.07 0 7.393-3.355 7.393-7.442 0-3.994-3.105-7.307-7.012-7.502l.468.415C29.02 4.52 24.34.5 18.886.5c-4.348 0-8.27 2.522-10.138 6.506l.446-.288C4.394 6.782.5 10.758.5 15.608c0 4.924 3.906 8.892 8.76 8.892h4.872c.635 0 1.095-.467 1.095-1.104 0-.636-.46-1.103-1.095-1.103H9.26c-3.644 0-6.63-3.035-6.63-6.744 0-3.71 2.926-6.685 6.57-6.685h.964l.14-.28.177-.362c1.477-3.4 4.744-5.576 8.347-5.576 4.58 0 8.45 3.452 9.01 8.072l.06.536.05.446h1.101c2.87 0 5.204 2.37 5.204 5.295s-2.333 5.296-5.204 5.296h-6.062c-.634 0-1.094.467-1.094 1.103 0 .637.46 1.104 1.094 1.104h6.12z"/>\n    <path d="M23.196 18.92l-4.828-5.258-.366-.4-.368.398-4.828 5.196a1.13 1.13 0 0 0 0 1.546c.428.46 1.11.46 1.537 0l3.45-3.71-.868-.34v15.03c0 .64.445 1.118 1.075 1.118.63 0 1.075-.48 1.075-1.12V16.35l-.867.34 3.45 3.712a1 1 0 0 0 .767.345 1 1 0 0 0 .77-.345c.416-.33.416-1.036 0-1.485v.003z"/>\n  </svg>']),_templateObject8=_taggedTemplateLiteralLoose(['<svg class="UppyIcon" width="90" height="90" viewBox="0 0 21 29">\n    <path d="M2.473.31C1.44.31.59 1.21.59 2.307V26.31c0 1.097.85 2 1.883 2H18.71c1.03 0 1.88-.903 1.88-2V7.746a.525.525 0 0 0-.014-.108v-.015a.51.51 0 0 0-.014-.03v-.017a.51.51 0 0 0-.015-.03.482.482 0 0 0-.014-.016v-.015a.482.482 0 0 0-.015-.015.51.51 0 0 0-.014-.03.482.482 0 0 0-.014-.017.51.51 0 0 0-.015-.03.483.483 0 0 0-.03-.03L13.636.45a.47.47 0 0 0-.118-.093.448.448 0 0 0-.044-.015.448.448 0 0 0-.044-.016.448.448 0 0 0-.045-.015.44.44 0 0 0-.073 0H2.474zm0 .99h10.372v4.943c0 1.097.85 2 1.88 2h4.932V26.31c0 .56-.42 1.007-.948 1.007H2.472c-.527 0-.95-.446-.95-1.007V2.308c0-.56.423-1.008.95-1.008zm11.305.667l4.843 4.927.352.357h-4.246c-.527 0-.948-.446-.948-1.007V1.967z">\n    <text font-family="ArialMT, Arial"\n          font-size="5"\n          font-weight="bold"\n          text-anchor="middle"\n          x="11"\n          y="22">\n      ',"\n    </text>\n  </svg>"],['<svg class="UppyIcon" width="90" height="90" viewBox="0 0 21 29">\n    <path d="M2.473.31C1.44.31.59 1.21.59 2.307V26.31c0 1.097.85 2 1.883 2H18.71c1.03 0 1.88-.903 1.88-2V7.746a.525.525 0 0 0-.014-.108v-.015a.51.51 0 0 0-.014-.03v-.017a.51.51 0 0 0-.015-.03.482.482 0 0 0-.014-.016v-.015a.482.482 0 0 0-.015-.015.51.51 0 0 0-.014-.03.482.482 0 0 0-.014-.017.51.51 0 0 0-.015-.03.483.483 0 0 0-.03-.03L13.636.45a.47.47 0 0 0-.118-.093.448.448 0 0 0-.044-.015.448.448 0 0 0-.044-.016.448.448 0 0 0-.045-.015.44.44 0 0 0-.073 0H2.474zm0 .99h10.372v4.943c0 1.097.85 2 1.88 2h4.932V26.31c0 .56-.42 1.007-.948 1.007H2.472c-.527 0-.95-.446-.95-1.007V2.308c0-.56.423-1.008.95-1.008zm11.305.667l4.843 4.927.352.357h-4.246c-.527 0-.948-.446-.948-1.007V1.967z">\n    <text font-family="ArialMT, Arial"\n          font-size="5"\n          font-weight="bold"\n          text-anchor="middle"\n          x="11"\n          y="22">\n      ',"\n    </text>\n  </svg>"]);exports.defaultTabIcon=defaultTabIcon,exports.backIcon=backIcon,exports.closeIcon=closeIcon,exports.pluginIcon=pluginIcon,exports.checkIcon=checkIcon,exports.removeIcon=removeIcon,exports.uploadIcon=uploadIcon,exports.fileIcon=fileIcon;var _yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo);
},{"yo-yo":15}],39:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_templateObject=_taggedTemplateLiteralLoose(['<div class="Uppy UppyTheme--default UppyModal"\n                   aria-hidden="','"\n                   aria-label="Uppy Dialog Window (Press escape to close)"\n                   role="dialog">\n      <div class="UppyModal-overlay"\n                  onclick=','></div>\n        <div class="UppyModal-inner" tabindex="0">\n          <div class="UppyModal-dashboard">\n            ','\n          </div>\n          <ul class="UppyModalTabs" role="tablist">\n            ',"\n          </ul>\n\n          ",'\n\n          <div class="UppyModal-progressindicators">\n            ','\n          </div>\n          <button class="UppyModal-close"\n                  title="Close Uppy modal"\n                  onclick=',">","\n          </button>\n      </div>\n    </div>"],['<div class="Uppy UppyTheme--default UppyModal"\n                   aria-hidden="','"\n                   aria-label="Uppy Dialog Window (Press escape to close)"\n                   role="dialog">\n      <div class="UppyModal-overlay"\n                  onclick=','></div>\n        <div class="UppyModal-inner" tabindex="0">\n          <div class="UppyModal-dashboard">\n            ','\n          </div>\n          <ul class="UppyModalTabs" role="tablist">\n            ',"\n          </ul>\n\n          ",'\n\n          <div class="UppyModal-progressindicators">\n            ','\n          </div>\n          <button class="UppyModal-close"\n                  title="Close Uppy modal"\n                  onclick=',">","\n          </button>\n      </div>\n    </div>"]),_templateObject2=_taggedTemplateLiteralLoose(['<li class="UppyModalTab">\n                <button class="UppyModalTab-btn"\n                        role="tab"\n                        tabindex="0"\n                        aria-controls="',"--",'"\n                        aria-selected="','"\n                        onclick=',">\n                  ",'\n                  <h5 class="UppyModalTab-name">',"</h5>\n                </button>\n              </li>"],['<li class="UppyModalTab">\n                <button class="UppyModalTab-btn"\n                        role="tab"\n                        tabindex="0"\n                        aria-controls="',"--",'"\n                        aria-selected="','"\n                        onclick=',">\n                  ",'\n                  <h5 class="UppyModalTab-name">',"</h5>\n                </button>\n              </li>"]),_templateObject3=_taggedTemplateLiteralLoose(['<div class="UppyModalContent-panel"\n                           id="',"--",'"\n                           role="tabpanel"\n                           aria-hidden="','">\n               <div class="UppyModalContent-bar">\n                 <h2 class="UppyModalContent-title">Import From ','</h2>\n                 <button class="UppyModalContent-back"\n                         onclick=',">Back</button>\n               </div>\n              ","\n            </div>"],['<div class="UppyModalContent-panel"\n                           id="',"--",'"\n                           role="tabpanel"\n                           aria-hidden="','">\n               <div class="UppyModalContent-bar">\n                 <h2 class="UppyModalContent-title">Import From ','</h2>\n                 <button class="UppyModalContent-back"\n                         onclick=',">Back</button>\n               </div>\n              ","\n            </div>"]),_Plugin2=require("../Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_Dashboard=require("./Dashboard.js"),_Dashboard2=_interopRequireDefault(_Dashboard),_icons=require("./icons"),_dragDrop=require("drag-drop"),_dragDrop2=_interopRequireDefault(_dragDrop),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),Modal=function(e){function t(n,o){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,e.call(this,n,o));a.id="Modal",a.title="Modal",a.type="orchestrator";var i={target:"body",defaultTabIcon:(0,_icons.defaultTabIcon)(),panelSelectorPrefix:"UppyModalContent-panel"};return a.opts=_extends({},i,o),a.hideModal=a.hideModal.bind(a),a.showModal=a.showModal.bind(a),a.addTarget=a.addTarget.bind(a),a.actions=a.actions.bind(a),a.hideAllPanels=a.hideAllPanels.bind(a),a.showPanel=a.showPanel.bind(a),a.initEvents=a.initEvents.bind(a),a.render=a.render.bind(a),a.install=a.install.bind(a),a}return _inherits(t,e),t.prototype.addTarget=function(e){var t=e.constructor.name,n=e.title||t,o=e.icon||this.opts.defaultTabIcon,a=e.type;if("acquirer"!==a&&"progressindicator"!==a&&"presenter"!==a){var i="Error: Modal can only be used by plugins of types: acquirer, progressindicator, presenter";return void this.core.log(i)}var r={id:t,name:n,icon:o,type:a,focus:e.focus,render:e.render,isHidden:!0},s=this.core.getState().modal;return this.core.setState({modal:_extends({},s,{targets:s.targets.concat([r])})}),this.opts.target},t.prototype.hideAllPanels=function(){var e=this.core.getState().modal,t=e.targets.slice();t.forEach(function(e){"acquirer"===e.type&&(e.isHidden=!0)}),this.core.setState({modal:_extends({},e,{targets:t})})},t.prototype.showPanel=function(e){var t=this.core.getState().modal,n=t.targets.map(function(t){return"acquirer"===t.type?t.id===e?(t.focus(),_extends({},t,{isHidden:!1})):_extends({},t,{isHidden:!0}):t});this.core.setState({modal:_extends({},t,{targets:n})})},t.prototype.hideModal=function(){var e=this.core.getState().modal;this.core.setState({modal:_extends({},e,{isHidden:!0})}),document.body.classList.remove("is-UppyModal-open")},t.prototype.showModal=function(){var e=this.core.getState().modal;this.core.setState({modal:_extends({},e,{isHidden:!1})}),document.body.classList.add("is-UppyModal-open"),document.querySelector('*[tabindex="0"]').focus()},t.prototype.initEvents=function(){var e=this,t=document.querySelector(this.opts.trigger);t.addEventListener("click",this.showModal),document.body.addEventListener("keyup",function(t){27===t.keyCode&&e.hideModal()}),document.addEventListener("click",function(t){t.target.classList.contains("js-UppyModal-close")&&e.hideModal()})},t.prototype.actions=function(){var e=this;this.core.emitter.on("file-add",function(){e.hideAllPanels()})},t.prototype.handleDrop=function(e){var t=this;this.core.log("All right, someone dropped something..."),e.forEach(function(e){t.core.emitter.emit("file-add",{source:t.id,name:e.name,type:e.type,data:e})}),this.core.addMeta({bla:"bla"})},t.prototype.render=function(e){var t=this,n=this.core.opts.autoProceed,o=e.files,a=this.core.emitter,i=e.modal.targets,r=i.filter(function(e){return"acquirer"===e.type}),s=i.filter(function(e){return"progressindicator"===e.type});return(0,_yoYo2["default"])(_templateObject,e.modal.isHidden,this.hideModal,(0,_Dashboard2["default"])(o,a,n),r.map(function(e){return(0,_yoYo2["default"])(_templateObject2,t.opts.panelSelectorPrefix,e.id,e.isHidden?"false":"true",t.showPanel.bind(t,e.id),e.icon,e.name)}),r.map(function(n){return(0,_yoYo2["default"])(_templateObject3,t.opts.panelSelectorPrefix,n.id,n.isHidden,n.name,t.hideAllPanels,n.render(e))}),s.map(function(t){return t.render(e)}),this.hideModal,(0,_icons.closeIcon)())},t.prototype.install=function(){var e=this;this.core.setState({modal:{isHidden:!0,targets:[]}});var t=this.opts.target,n=this;this.target=this.mount(t,n),this.initEvents(),this.actions(),(0,_dragDrop2["default"])(this.opts.target,function(t){e.handleDrop(t),e.core.log(t)})},t}(_Plugin3["default"]);exports["default"]=Modal;
},{"../Plugin":41,"./Dashboard.js":36,"./icons":38,"drag-drop":4,"yo-yo":15}],40:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_Promise="undefined"==typeof Promise?require("es6-promise").Promise:Promise,Multipart=function(e){function t(r,o){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,e.call(this,r,o));n.type="uploader",n.id="Multipart",n.title="Multipart";var i={fieldName:"files[]",responseUrlFieldName:"url",bundle:!0};return n.opts=_extends({},i,o),n}return _inherits(t,e),t.prototype.upload=function(e,t,r){var o=this;return this.core.log("uploading "+t+" of "+r),new _Promise(function(t,r){var n=new FormData;n.append(o.opts.fieldName,e.data);var i=new XMLHttpRequest;i.upload.addEventListener("progress",function(t){if(t.lengthComputable){var r=t.loaded,n=t.total,i=(r/n*100).toFixed(2);i=Math.round(i),o.core.log("File progress: "+i),o.core.emitter.emit("upload-progress",{uploader:o,id:e.id,bytesUploaded:r,bytesTotal:n})}}),i.addEventListener("load",function(r){if(200===r.target.status){var n=JSON.parse(i.response);return e.uploadURL=n[o.opts.responseUrlFieldName],o.core.log("Download "+e.name+" from "+e.uploadURL),t(e)}}),i.addEventListener("error",function(e){return r("Upload error")}),i.open("POST",o.opts.endpoint,!0),i.send(n)})},t.prototype.selectForUpload=function(e){var t=this,r=[];Object.keys(e).forEach(function(t){0===e[t].progress&&r.push(e[t])});var o=[];r.forEach(function(e,n){var i=parseInt(n,10)+1,a=r.length;o.push(t.upload(e,i,a))}),Promise.all(o).then(function(e){t.core.log("Multipart has finished uploading!")})},t.prototype.install=function(){var e=this;this.core.emitter.on("next",function(){e.core.log("Multipart is uploading...");var t=e.core.state.files;e.selectForUpload(t)})},t}(_Plugin3["default"]);exports["default"]=Multipart;
},{"./Plugin":41,"es6-promise":7}],41:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),Plugin=function(){function t(e,i){_classCallCheck(this,t),this.core=e,this.opts=i,this.type="none",this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.focus=this.focus.bind(this),this.install=this.install.bind(this)}return t.prototype.update=function(){if("undefined"!=typeof this.el){var t=this.render(this.core.state);_yoYo2["default"].update(this.el,t)}},t.prototype.mount=function(t,e){var i=e.id;if("string"==typeof t)return this.core.log("Installing "+i+" to "+t),this.el=e.render(this.core.state),document.querySelector(t).appendChild(this.el),t;var o=t,n=(new o).id;this.core.log("Installing "+i+" to "+n);var s=this.core.getPlugin(n),r=s.addTarget(e);return r},t.prototype.focus=function(){},t.prototype.install=function(){},t.prototype.run=function(){},t}();exports["default"]=Plugin;
},{"yo-yo":15}],42:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),Present=function(e){function t(r,n){_classCallCheck(this,t);var s=_possibleConstructorReturn(this,e.call(this,r,n));s.id="Present",s.title="Present",s.type="presenter";var o={target:".UppyPresenter-container"};return s.opts=_extends({},o,n),s}return _inherits(t,e),t.prototype.render=function(){return'\n      <div class="UppyPresenter"></div>\n    '},t.prototype.hidePresenter=function(){this.presenter.classList.remove("is-visible")},t.prototype.showPresenter=function(e,t){this.presenter.classList.add("is-visible"),this.presenter.innerHTML="\n      <p>You have successfully uploaded\n        <strong>"+this.core.i18n("files",{smart_count:t})+"</strong>\n      </p>\n      "+("Modal"===e?'<button class="UppyPresenter-modalClose js-UppyModal-close" type="button">'+this.core.i18n("closeModal")+"</button>":"")+"\n    "},t.prototype.initEvents=function(){var e=this;this.core.emitter.on("reset",function(t){e.hidePresenter()})},t.prototype.run=function(e){this.core.emitter.emit("allDone");var t=e[0].uploadedCount,r=this.opts.target.name;this.showPresenter(r,t)},t.prototype.install=function(){var e=this;this.target=this.getTarget(this.opts.target,e),this.targetEl=document.querySelector(this.target),this.targetEl.innerHTML=this.render(),this.initEvents(),this.presenter=document.querySelector(".UppyPresenter")},t}(_Plugin3["default"]);exports["default"]=Present;
},{"./Plugin":41}],43:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _taggedTemplateLiteralLoose(e,t){return e.raw=t,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_templateObject=_taggedTemplateLiteralLoose(['<div class="UppyProgressBar">\n      <div class="UppyProgressBar-inner" style="width: ','%"></div>\n      <div class="UppyProgressBar-percentage">',"</div>\n    </div>"],['<div class="UppyProgressBar">\n      <div class="UppyProgressBar-inner" style="width: ','%"></div>\n      <div class="UppyProgressBar-percentage">',"</div>\n    </div>"]),_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_yoYo=require("yo-yo"),_yoYo2=_interopRequireDefault(_yoYo),ProgressBar=function(e){function t(r,o){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,e.call(this,r,o));n.id="ProgressBar",n.title="Progress Bar",n.type="progressindicator";var s={replaceTargetContent:!1};return n.opts=_extends({},s,o),n.render=n.render.bind(n),n}return _inherits(t,e),t.prototype.render=function(e){var t=e.totalProgress||0;return(0,_yoYo2["default"])(_templateObject,t,t)},t.prototype.install=function(){var e=this.opts.target,t=this;this.target=this.mount(e,t)},t}(_Plugin3["default"]);exports["default"]=ProgressBar;
},{"./Plugin":41,"yo-yo":15}],44:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}exports.__esModule=!0;var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),Spinner=function(t){function e(n,r){_classCallCheck(this,e);var i=_possibleConstructorReturn(this,t.call(this,n,r));i.type="progressindicator",i.id="Spinner",i.title="Spinner";var o={};return i.opts=_extends({},o,r),i}return _inherits(e,t),e.prototype.setProgress=function(t){100!==t?this.spinnerEl.classList.add("is-spinning"):this.spinnerEl.classList.remove("is-spinning")},e.prototype.initSpinner=function(){var t=document.querySelector(this.target);t.innerHTML='<div class="UppySpinner"></div>',this.spinnerEl=document.querySelector(this.target+" .UppySpinner")},e.prototype.initEvents=function(){var t=this;this.core.emitter.on("upload-progress",function(e){var n=e.percentage,r=e.plugin;t.core.log("progress is: "+n+", set by "+r.constructor.name),t.setProgress(n)})},e.prototype.install=function(){var t=this;this.target=this.getTarget(this.opts.target,t),this.initSpinner(),this.initEvents()},e}(_Plugin3["default"]);exports["default"]=Spinner;
},{"./Plugin":41}],45:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_DragDrop=require("./DragDrop"),_DragDrop2=_interopRequireDefault(_DragDrop),_Tus=require("./Tus10"),_Tus2=_interopRequireDefault(_Tus),TransloaditBasic=function(e){function t(r,o){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,e.call(this,r,o));return n.type="presetter",n.id="TransloaditBasic",n.title="Transloadit Basic",n.core.use(_DragDrop2["default"],{modal:!0,wait:!0}).use(_Tus2["default"],{endpoint:"http://master.tus.io:8080"}),n}return _inherits(t,e),t}(_Plugin3["default"]);exports["default"]=TransloaditBasic;
},{"./DragDrop":31,"./Plugin":41,"./Tus10":46}],46:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}exports.__esModule=!0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_Plugin2=require("./Plugin"),_Plugin3=_interopRequireDefault(_Plugin2),_tusJsClient=require("tus-js-client"),_tusJsClient2=_interopRequireDefault(_tusJsClient),_Promise="undefined"==typeof Promise?require("es6-promise").Promise:Promise,Tus10=function(e){function t(o,r){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,e.call(this,o,r));n.type="uploader",n.id="Tus",n.title="Tus";var i={};return n.opts=_extends({},i,r),n}return _inherits(t,e),t.prototype.upload=function(e,t,o){var r=this;return this.core.log("uploading "+t+" of "+o),new _Promise(function(t,o){var n=new _tusJsClient2["default"].Upload(e.data,{resume:!1,endpoint:r.opts.endpoint,onError:function(e){o("Failed because: "+e)},onProgress:function(t,o){r.core.emitter.emit("upload-progress",{uploader:r,id:e.id,bytesUploaded:t,bytesTotal:o})},onSuccess:function(){e.uploadURL=n.url,r.core.emitter.emit("upload-success",e),r.core.log("Download "+n.file.name+" from "+n.url),t(n)}});r.core.emitter.on("file-remove",function(t){t===e.id&&n.abort()}),n.start()})},t.prototype.uploadFiles=function(e){var t=this,o=[];return e.forEach(function(r,n){var i=parseInt(n,10)+1,s=e.length;r.isRemote?o.push(t.upload(r,i,s)):o.push(t.upload(r,i,s))}),Promise.all(o).then(function(){return{uploadedCount:e.length}})},t.prototype.uploadRemote=function(e,t,o){var r=this;return new _Promise(function(t,o){var n=_extends({},e.remote.payload,{target:r.opts.endpoint,protocol:"tus"});r.core.socket.send(e.remote.action,n),r.core.socket.once("upload-success",function(){console.log("success"),r.core.emitter.emit("upload-success",e),r.core.emitter.emit("upload-progress",{id:e.id,percentage:100}),t()})})},t.prototype.selectForUpload=function(e){var t=Object.keys(e).filter(function(t){return!(0!==e[t].progress&&!e[t].isRemote)}).map(function(t){return e[t]});this.uploadFiles(t)},t.prototype.install=function(){var e=this;this.core.emitter.on("next",function(){e.core.log("Tus is uploading...");var t=e.core.state.files;e.selectForUpload(t)})},t}(_Plugin3["default"]);exports["default"]=Tus10;
},{"./Plugin":41,"es6-promise":7,"tus-js-client":11}],47:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _Plugin=require("./Plugin"),_Plugin2=_interopRequireDefault(_Plugin),_Modal=require("./Modal"),_Modal2=_interopRequireDefault(_Modal),_Dummy=require("./Dummy"),_Dummy2=_interopRequireDefault(_Dummy),_DragDrop=require("./DragDrop"),_DragDrop2=_interopRequireDefault(_DragDrop),_Dropbox=require("./Dropbox"),_Dropbox2=_interopRequireDefault(_Dropbox),_Formtag=require("./Formtag"),_Formtag2=_interopRequireDefault(_Formtag),_GoogleDrive=require("./GoogleDrive"),_GoogleDrive2=_interopRequireDefault(_GoogleDrive),_ProgressBar=require("./ProgressBar"),_ProgressBar2=_interopRequireDefault(_ProgressBar),_Spinner=require("./Spinner"),_Spinner2=_interopRequireDefault(_Spinner),_Tus=require("./Tus10"),_Tus2=_interopRequireDefault(_Tus),_Multipart=require("./Multipart"),_Multipart2=_interopRequireDefault(_Multipart),_Present=require("./Present"),_Present2=_interopRequireDefault(_Present),_TransloaditBasic=require("./TransloaditBasic"),_TransloaditBasic2=_interopRequireDefault(_TransloaditBasic);module.exports={Plugin:_Plugin2["default"],Dummy:_Dummy2["default"],ProgressBar:_ProgressBar2["default"],Spinner:_Spinner2["default"],Present:_Present2["default"],DragDrop:_DragDrop2["default"],Dropbox:_Dropbox2["default"],GoogleDrive:_GoogleDrive2["default"],Formtag:_Formtag2["default"],Tus10:_Tus2["default"],Multipart:_Multipart2["default"],TransloaditBasic:_TransloaditBasic2["default"],Modal:_Modal2["default"]};
},{"./DragDrop":31,"./Dropbox":32,"./Dummy":33,"./Formtag":34,"./GoogleDrive":35,"./Modal":39,"./Multipart":40,"./Plugin":41,"./Present":42,"./ProgressBar":43,"./Spinner":44,"./TransloaditBasic":45,"./Tus10":46}]},{},[29])(29)
});


//# sourceMappingURL=uppy.min.js.map